MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;****************************************************************************
                      00002 ;*                                                              $$$$$$$$$$$$$$                          
                                    *
                      00003 ;*                                                              $       TEXvid   $                      
                                                                    *
                      00004 ;*                                                              $$$$$$$$$$$$$$                          
                                                            *
                      00005 ;*                                              Sistema de interface ....                               
                                                    *
                      00006 ;*                                                                                                      
                                                                            *
                      00007 ;*                                      Desenvolvido por Ricardo de Azambuja                            
                                    *
                      00008 ;*                                                                                                      
                                                                            *
                      00009 ;*              main.asm                                                                                
                                                                    *
                      00010 ;*              Versão 0.1                                                      Data Inicial: 13/10/2005
                                            *
                      00011 ;****************************************************************************
                      00012 ;****$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$****
                      00013 ;****************************************************************************
                      00014 ;*                                                                                                      
                                                                            *
                      00015 ;* ESTE PROGRAMA É PROTEGIDO PELAS LEIS DE DIREITOS AUTORAIS, NÃO SENDO         *
                      00016 ;* PERMITIDA A CÓPIA, DIVULGAÇÃO OU A UTILIZAÇÃO EM/POR QUAISQUER MEIOS         *
                      00017 ;* SEM A EXPRESSA AUTORIZAÇÃO DO AUTOR.                                                                 
                                    *
                      00018 ;*                                                                          *
                      00019 ;****************************************************************************
                      00020 ;****$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$****
                      00021 ;****************************************************************************
                      00022 ;*--------------------------------------------------------------------------*
                      00023 ;* DESCRIÇÃO DO ARQUIVO / PROJETO:                                                                      
                                            *
                      00024 ;* -                                                                                                    
                                                                    *
                      00025 ;* -                                                                                                    
                                                                    *
                      00026 ;* -                                                                                                    
                                                                    *
                      00027 ;* -                                                                                                    
                                                                    *
                      00028 ;* -                                                                                                    
                                                                    *
                      00029 ;*--------------------------------------------------------------------------*
                      00030 ;* NOTAS:                                                                                               
                                                                    *
                      00031 ;* 1)PINOS UTILIZADOS:
                      00032 ;* -RA6 E RA7 (OSC EXTERNO);RB1 E RB2 (USART ASSÍNCRONA)
                      00033 ;* -RB3 E RB5 (SAÍDA DO VÍDEO COMPOSTO)                                                                 
                            *
                      00034 ;*     -RB3 e RB5 HIGH(1): branco
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00035 ;*     -RB3 LOW(0) e RB5(1) HIGH: preto
                      00036 ;*     -RB3 LOW(0) e RB5 LOW(0): sincronismo
                      00037 ;* -RA1 (LED INDICADOR DE ERRO NA SERIAL)
                      00038 ;****************************************************************************
                      00039 
                      00040 ;****************************************************************************
                      00041 ;*                                                      ARQUIVOS DE DEFINIÇÕES                          
                                                    *
                      00042 ;****************************************************************************
                      00043 
                      00044 #INCLUDE <P16F628A.inc>       ; processor specific variable definitions
                      00001         LIST
                      00002 ; P16F628A.INC  Standard Header File, Version 1.10    Microchip Technology, Inc.
                      00265         LIST
                      00045 ;Na fase inicial de testes, feita na placa de testes McLab1, usei o 628 e nao o 628A.
                      00046 ;Na versao final (com serial, etc), foi usado o P16F628A.inc para rodar a 20MHz
                      00047 
                      00048         errorlevel 1,-207
                      00049         ;Desabilita uma warning chata que aparece devido ao codigo da macro
                      00050 
                      00051 ;
2007   3F42           00052         __CONFIG   _CP_OFF & _DATA_CP_OFF & _LVP_OFF & _BOREN_ON & _MCLRE_OFF & _WDT_OFF & _PWRTE_ON & _
                            HS_OSC ;_INTOSC_OSC_NOCLKOUT
                      00053 ; Ver livro Desbravando o PIC pág 62 para as configurações ou pág 98 do datasheet
                      00054 ; Os nomes acima estão definidos no arquivo .INC
                      00055 ; Essa configuração pode ser feita pelo programa que vai gravar o processador
                      00056 
                      00057 ;****************************************************************************
                      00058 ;*                                                      PAGINAÇÃO DE MEMÓRIA                            
                                                    *
                      00059 ;****************************************************************************
                      00060 ;DEFINIÇÃO DE COMANDOS DE USUÁRIO PARA ALTERAÇÃO DA PÁGINA DE MEMÓRIA
                      00061 #DEFINE         BANK0   BCF STATUS,RP0 ;SETA BANK 0 DE MEMÓRIA
                      00062 #DEFINE         BANK1   BSF     STATUS,RP0 ;SETA BANK 1 DE MEMÓRIA
                      00063 
                      00064 ;A diretriz #DEFINE substitui nomes por expressões inteiras
                      00065 ;(a diretriz EQU substitui nomes por números)
                      00066 
                      00067 
                      00068 
                      00069 ;****************************************************************************
                      00070 ;*                                                              VARIÁVEIS                               
                                                                    *
                      00071 ;****************************************************************************
                      00072 ;DEFINIÇÃO DOS NOMES E ENDEREÇOS DE TODAS AS VARIÁVEIS UTILIZADAS PELO SISTEMA
                      00073 ;NÃO ESQUECER QUE TODAS ESSAS VARIÁVEIS SERÃO DE 8BITS
                      00074         
                      00075         CBLOCK          0x70                            ;ENDEREÇO INICIAL DA MEMÓRIA DE USUÁRIO (0x70 AT
                            É 0x7F)
                      00076                                                                         ;Coloquei a memória de usuário n
                            o 0x70 para ter uma região contínua de memória
                      00077                                                                         ;para ser utilizada na área da a
                            rmazenagem e geração da imagem.
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00078 
  00000070            00079                                 W_TEMP                          ;REGISTRADORES TEMPORÁRIOS PARA USO (0x7
                            0)
  00000071            00080                                 STATUS_TEMP                     ;JUNTO ÀS INTERRUPÇÕES (0x71)
                      00081 
  00000072            00082                                 DELAY                           ;Usada na macro que gera ciclos para tem
                            porização (0x72)
  00000073            00083                                 CONT_VERT                       ;Usada para contar o numero de linhas ho
                            rizontais que já foram desenhadas (0x73)
  00000074            00084                                 FLAGS                           ;Usado para as flags do programa (0x74)
  00000075            00085                                 MARGEM_SUPERIOR         ;Numero de linhas apagadas na parte de cima da t
                            ela + 14 (usada com LINHA_INICIO) (0x75)
  00000076            00086                                 MARGEM_INFERIOR         ;Numero de linhas apagadas na parte de baixo da 
                            tela + 14 (usada com LINHA_QUANT) (0x76)
  00000077            00087                                 CONTA_3LINHAS_A         ;Conta as três linhas do vídeo para formar um pi
                            xel no TEXVID A(0x77)
  00000078            00088                                 CONTA_3LINHAS_B         ;Conta as três linhas do vídeo para formar um pi
                            xel no TEXVID B(0x78)
  00000079            00089                                 CONT_BUFFER                     ;Contador usado para controlar em qual b
                            uffer estou (0x79)
  0000007A            00090                                 SALVA_FSR                       ;Usado para salvar o conteúdo do FSR dur
                            ante a interrupção da serial (0x7A)
  0000007B            00091                                 SALVA_CAR                       ;Usado para salvar o caractere recebido 
                            pela serial (0x7B)
  0000007C            00092                                 SALVA_FSR2                      ;Usado para salvar o conteúdo do FSR dur
                            ante a execução dos comandos (0x7C)
  0000007D            00093                                 ENDERECO_INICIAL        ;Indica o endereço inicial da primeira ou da seg
                            unda linha na execução dos cmds (0x7D)
  0000007E            00094                                 CONT_BUFFER2            ;Contador usado para passar os caracteres pra te
                            la na ordem correta (0x7E)
  0000007F            00095                                 ENDERECO_LETRA          ;Indica o endereço inicial da primeira ou da seg
                            unda linha na execução dos cmds (0x7F)
                      00096                                                                         ;ACABOU A MEMÓRIA DO 0x70 até o 
                            0x7F!!!!
                      00097 
                      00098         ENDC                                                    ;FIM DO BLOCO DE MEMÓRIA
                      00099 
                      00100 
                      00101         CBLOCK          0x20                            ;ENDEREÇO INICIAL DA MEMÓRIA DE LINHA NO BANCO 0
                             (0x20 ATÉ 0x25)
                      00102                                                                         ;Neste espaço de memória ficam a
                            rmazenados os bits correspondentes
                      00103                                                                         ;a próxima linha de imagem (não 
                            confundir c/ caracteres) gerada 
                      00104                                                                         ;após o sincronismo horizontal e
                             desenhadas usando a macro SAIDABIT.
                      00105 
                      00106 
  00000020            00107                                 END_BASE_LINHA          ;Endereco inicial onde consta a linha que sera d
                            esenhada(0x20).
                      00108 
                      00109 
                      00110         ENDC                                                    ;FIM DO BLOCO DE MEMÓRIA DE LINHA NO BAN
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            CO 0
                      00111 
                      00112 
                      00113 
                      00114         CBLOCK          0x26                            ;ENDEREÇO INICIAL DA MEMÓRIA DE IMAGEM NO BANCO 
                            0 (0x26 ATÉ 0x6E)
                      00115                                                                         ;Este espaço é usado para guarda
                            r as duas linhas de texto (ou gráfico)
                      00116                                                                         ;que serão enviadas para a tela.
                      00117 
  00000026            00118                                 END_INIC_VIDEO          ;Endereco inicial na RAM onde consta a imagem (0
                            x26)
                      00119 
                      00120 
                      00121         ENDC                                                    ;FIM DO BLOCO DE MEMÓRIA DE IMAGEM NO BA
                            NCO 0
                      00122 
                      00123 
                      00124 
                      00125 
                      00126         CBLOCK          0xA0                            ;ENDEREÇO INICIAL DO BUFFER DE COMANDOS NO BANCO
                             1 (0xA0 ATÉ 0xEF)
                      00127                                                                         ;Este espaço de memória é utiliz
                            ado no tratamento de comandos recebidos
                      00128                                                                         ;pela serial porque não havia ma
                            is espaço livre no banco0
                      00129 
  000000A0            00130                                 END_INIC_CMDS           ;Endereço inicial do buffer de comandos (0xA0).
  000000A1            00131                                 BUFFER1
  000000A2            00132                                 BUFFER2                         ;Todos estes buffers são utilizados para
                             guardar
  000000A3            00133                                 BUFFER3                         ;os caracteres recebidos após um '@'.
  000000A4            00134                                 BUFFER4
  000000A5            00135                                 BUFFER5
  000000A6            00136                                 BUFFER6
  000000A7            00137                                 BUFFER7
  000000A8            00138                                 BUFFER8
  000000A9            00139                                 BUFFER9
  000000AA            00140                                 BUFFERA
  000000AB            00141                                 END_FIM_CMDS            ;Endereço final do buffer de comandos (0xAB).
                      00142 
                      00143                                                                         ;No total serão 12 caracteres (0
                            xA0 até 0xAB)
                      00144                                                                         ;Caract 0   : Indica qual a linh
                            a que será escrita (1 ou 2).
                      00145                                                                         ;Caract 1-12: letra que será mos
                            trada na tela.
                      00146 
                      00147         ENDC                                                    ;FIM DO BLOCO DE MEMÓRIA DO BUFFER DE CO
                            MANDOS NO BANCO 1
                      00148 
                      00149 
                      00150         CBLOCK          0xAC                            ;Armazena, temporariamente, o desenho da letra n
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            o formato binário.
                      00151 
  000000AC            00152                                 LETRA1
  000000AD            00153                                 LETRA2
  000000AE            00154                                 LETRA3
  000000AF            00155                                 LETRA4
  000000B0            00156                                 LETRA5
                      00157         ENDC
                      00158                                         
                      00159 ;CBLOCK e ENDC: é uma maneira simplificada de definirmos vários EQUs com 
                      00160 ;endereços sequenciais. Assim fica mais fácil a migração para outro processador ou
                      00161 ;para outro bloco de endereços.
                      00162 
                      00163 
                      00164 ;****************************************************************************
                      00165 ;*                                                      FLAGS INTERNOS                                  
                                                            *
                      00166 ;****************************************************************************
                      00167 ;DEFINIÇÃO DE TODOS OS FLAGS UTILIZADOS PELO SISTEMA
                      00168 
                      00169 #DEFINE                 SINC_H  FLAGS,0                 ;Usado para sinalizar que iniciou uma linha
                      00170                                                                                 ;horizontal (apos os pul
                            sos de sincronismo horizontal).
                      00171                                                                                 ;INICIA COM ZERO
                      00172 
                      00173 #DEFINE                 SINC_V  FLAGS,1                 ;Sinaliza quando deve ser feito o sincronismo ve
                            rtical
                      00174                                                                                 ;INICIA COM ZERO
                      00175 
                      00176 #DEFINE                 ODD             FLAGS,2                 ;Sinaliza se eh o campo par ou impar
                      00177                                                                                 ;ODD->1 impar
                      00178                                                                                 ;ODD->0 par
                      00179                                                                                 ;INICIA COM UM
                      00180 
                      00181 #DEFINE                 TELA    FLAGS,3                 ;Permite ou nao que seja desenhado algo na tela
                      00182                                                                                 ;TELA->1 libera
                      00183                                                                                 ;TELA->0 nivel de preto
                      00184                                                                                 ;INICIA COM ZERO
                      00185 
                      00186 #DEFINE                 ARROBA  FLAGS,4                 ;Indica se foi recebido o '@' pela serial
                      00187                                                                                 ;ARROBA->0 ainda nao foi
                             recebido
                      00188                                                                                 ;ARROBA->1 já foi recebi
                            do
                      00189                                                                                 ;INICIA COM ZERO
                      00190 
                      00191 #DEFINE                 EXECUTA FLAGS,5                 ;Indica quando devo executar (durante o campo pa
                            r) o buffer 
                      00192                                                                                 ;de comandos recebidos p
                            ela serial.
                      00193                                                                                 ;EXECUTA->0 não executar
                             o buffer de comandos
                      00194                                                                                 ;EXECUTA->1 executar os 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            comandos
                      00195                                                                                 ;INICIA COM ZERO
                      00196 
                      00197 #DEFINE                 MEIOBYTE FLAGS,6                ;Indica se estou nos LSBs ou nos MSBs.
                      00198                                                                                 ;É usada na conversão do
                            s caracteres recebidos pela serial.
                      00199                                                                                 ;MEIOBYTE->0 LSB
                      00200                                                                                 ;MEIOBYTE->1 MSB
                      00201                                                                                 ;INICIA COM ZERO
                      00202 
                      00203 #DEFINE                 SPLASH  FLAGS,7                 ;Indica se foi mostrada a splahwindow
                      00204                                                                                 ;SPLASH->0 não foi
                      00205                                                                                 ;SPLASH->1 foi mostrada
                      00206                                                                                 ;INICIA COM ZERO
                      00207 
                      00208 ;****************************************************************************
                      00209 ;*                                                              CONSTANTES                              
                                                                    *
                      00210 ;****************************************************************************
                      00211 ;DEFINIÇÃO DE TODAS AS CONSTANTES UTILIZADAS PELO SISTEMA
                      00212 
  00000066            00213 INIC_TMR0               EQU             .102                    ;Inicializa o TMR0 (Timer0)
                      00214                                                                                 ;Inicialmente este valor
                             foi calculado para 63.5uS, mas depois teve de ser
                      00215                                                                                 ;ajustado conforme o cod
                            igo foi crescendo e se modificando para
                      00216                                                                                 ;ser possivel manter o s
                            incronismo com o numero de instrucoes necessario.
                      00217                                                                                 ;Uma interrupcao por Tim
                            er0 ocorre a cada 64uS
                      00218 
  00000096            00219 LINHA_INICIO    EQU             .150                    ;Numero da linha na qual a imagem deve ser ligad
                            a
  00000024            00220 LINHA_QUANT             EQU             .36                             ;Numero de linhas que serao liga
                            das
                      00221 
  00000005            00222 TAM_PXL                 EQU             .5                              ;Regula a altura do pixel (em nu
                            mero_de_linhas - 2)
                      00223                                                                                 ;Esta nao pode ser mudad
                            a sem alterar algumas partes do codigo
                      00224                                                                                 ;devido a temporizacao e
                             a falta de ciclos de maquina livres.
                      00225 
                      00226 ;
                      00227 ;TABELA COM OS CARACTERES USADOS
                      00228 ;
  0000000D            00229 CR                              EQU             0x0D ;Retorno de Carro
  0000000A            00230 LF                              EQU             0x0A ;LineFeed
  00000020            00231 SP                              EQU             0x20 ;Espaco
  00000008            00232 BS                              EQU             0x08 ;Backspace
  0000001B            00233 ESC                             EQU             0x1B ;ESC
  00000024            00234 DOLAR                   EQU             0x24 ;$
  00000026            00235 ECOMER                  EQU             0x26 ;&
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00236 
  00000040            00237 AR                              EQU             0x40 ;@
                      00238 
                      00239 ;Abaixo são os caracteres que serão mostrados na tela.
  0000002B            00240 MA                              EQU             0x2B ;+
  0000002D            00241 ME                              EQU             0x2D ;-
  0000002A            00242 MU                              EQU             0x2A ;*
  0000002F            00243 DV                              EQU             0x2F ;/
  0000003D            00244 IG                              EQU             0x3D ;=
  00000028            00245 AP                              EQU             0x28 ;(
  00000029            00246 FP                              EQU             0x29 ;)
                      00247 
  0000003F            00248 SI                              EQU             0x3F ;?
  00000021            00249 SE                              EQU             0x21 ;!
  0000002E            00250 PT                              EQU             0x2E ;.
  0000003A            00251 DP                              EQU             0x3A ;:
  00000025            00252 PO                              EQU             0X25 ;%
  00000023            00253 SU                              EQU             0X23 ;#
  00000022            00254 AS                              EQU             0X22 ;"
                      00255 
                      00256         CBLOCK                  0x30
  00000030            00257                                 ZR   ;0
  00000031            00258                                 UM   ;1
  00000032            00259                                 DO   ;2
  00000033            00260                                 TR   ;3
  00000034            00261                                 QU   ;4
  00000035            00262                                 CI   ;5
  00000036            00263                                 SZ   ;6
  00000037            00264                                 ST   ;7
  00000038            00265                                 OI   ;8
  00000039            00266                                 NO   ;9
                      00267         ENDC
                      00268 
                      00269         CBLOCK                  0x41    ;Caracteres de A a Z em ASCII
  00000041            00270                                 AA ;(0x41) ou (0x61)
  00000042            00271                                 BB
  00000043            00272                                 CC
  00000044            00273                                 DD
  00000045            00274                                 EE
  00000046            00275                                 FF
  00000047            00276                                 GG
  00000048            00277                                 HH
  00000049            00278                                 II
  0000004A            00279                                 JJ
  0000004B            00280                                 KK
  0000004C            00281                                 LL
  0000004D            00282                                 MM
  0000004E            00283                                 NN
  0000004F            00284                                 OO
  00000050            00285                                 PP
  00000051            00286                                 QQ
  00000052            00287                                 RR
  00000053            00288                                 SS
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000054            00289                                 TT
  00000055            00290                                 UU
  00000056            00291                                 VV
  00000057            00292                                 WW
  00000058            00293                                 XX
  00000059            00294                                 YY
  0000005A            00295                                 ZZ ;(0x5A) ou (0x7A)
                      00296         ENDC                                    ;Para os caracteres minúsculos, é só somar 32decimal ou 
                            20hexa.
                      00297 
                      00298 
                      00299 
                      00300 
                      00301 ;****************************************************************************
                      00302 ;*                                                              MACROS                                  
                                                                    *
                      00303 ;****************************************************************************
                      00304 
                      00305 ;Esta macro foi necessária para facilitar a manutenção do código fonte.
                      00306 ;Sem uma macro, esse conjunto de instruções seria repetido para cada bit lido
                      00307 ;tornando o arquivo fonte dificil de editar e de visualizar.
                      00308 ;
                      00309 ;
                      00310 ;SAIDABIT
                      00311 ;Gera o código necessário para a leitura de um bit da memória RAM
                      00312 ;e posterior escrita no pino definido por saida.
                      00313 ; - ENDERECO_INI: endereço inicial da RAM onde esta a linha que será lida.
                      00314 ; - ENDERECO_FIN: endereço final (se for ler um soh byte, fica igual ao inicial).
                      00315 ; - NBIT    : número de bits a serem lidos no total (assim não preciso ler bytes inteiros)
                      00316 ;             *** lembrar que caso sejam lidos dois bytes, p.ex., NBIT fica 16!!!!
                      00317 ; - ROTULO  : rótulo inicial para servir como endereço base na memória de programa.
                      00318 SAIDABIT        MACRO   ENDERECO_INI, ENDERECO_FIN, NBIT, ROTULO
                      00319                                 VARIABLE        i=0                                                     
                            ;Define uma variável para o compilador
                      00320                                                                                                         
                                    ;NÃO ESTARÁ PRESENTE NO CODIGO DE PROGRAMA!
                      00321                                 VARIABLE        it=0                                            ;Usada p
                            ara medir o total de bits
                      00322                                 VARIABLE        ENDERECO=ENDERECO_INI
                      00323 
                      00324                                 WHILE (ENDERECO<=ENDERECO_FIN) && (it<NBIT)
                      00325                                         WHILE (i<8) && (it<NBIT)
                      00326                                                 btfss           ENDERECO,i
                      00327                                                 goto            ROTULO+(6*(it+1))-2
                      00328                                                 ;SETA PINO
                      00329                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
                      00330                                                 goto            ROTULO+(6*(it+1))       ;"Mágica" usada 
                            para pular para as linhas corretas 
                      00331                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                      00332                                                 ;LIMPA PINO
                      00333                                                 bcf                     saida                           
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            ;Seta o pino de saída pra 0 (nivel de preto)
                      00334                                                 nop
                      00335                                         i++
                      00336                                         it++
                      00337         
                      00338                                         ENDW ;fim do 2° while
                      00339                                 i=0
                      00340                                 ENDERECO++
                      00341                                 ENDW ;fim do 1° while
                      00342                         ENDM
                      00343 
                      00344 ;NOPS 
                      00345 ;Gera um delay de TEMPO ciclos.
                      00346 ;Devido ao arredondamento, nem sempre o no. de ciclos eh igual a TEMPO.
                      00347 ;Porem, a funcao economiza memoria de programa, por nao inserir um monte de NOPs, 
                      00348 ; e nao custa nada calcular e depois colocar uns poucos nop's, se necessario.
                      00349 NOPS    MACRO   TEMPO
                      00350 
                      00351                 movlw           .256-(TEMPO/3)
                      00352                 movwf           DELAY
                      00353                 incfsz          DELAY,F
                      00354                 goto            $-0x01
                      00355 
                      00356                 ENDM
                      00357 
                      00358 
                      00359 ;****************************************************************************
                      00360 ;*                                                              ENTRADAS                                
                                                                    *
                      00361 ;****************************************************************************
                      00362 ;DEFINIÇÃO DE TODOS OS PINOS QUE SERÃO UTILIZADOS COMO ENTRADA
                      00363 ;COM OS SEUS ESTADOS COMENTADOS (0 E 1)
                      00364 
                      00365 ;Este sistema nao utiliza pinos de entrada jah que uso o PowerOnReset, BrownOut
                      00366 ;e deixo o pino de MasterClear livre para uso futuro.
                      00367 
                      00368 ;Quaisquer comandos necessarios ao sistema serao inseridos via serial.
                      00369 
                      00370 ;****************************************************************************
                      00371 ;*                                                                      SAÍDAS                          
                                                                    *
                      00372 ;****************************************************************************
                      00373 ;DEFINIÇÃO DE TODOS OS PINOS QUE SERÃO UTILIZADOS COMO SAÍDA
                      00374 
                      00375 #DEFINE                 saida           PORTB,5         ;Saída principal de vídeo
                      00376                                                                                 ;- 1 para branco
                      00377                                                                                 ;- 0 para preto
                      00378 
                      00379 #DEFINE                 sincronismo PORTB,3             ;Usado para gerar o sincronismo em conjunto
                      00380                                                                                 ;com o pino saida
                      00381                                                                                 ;saida-0 e sincronismo-0
                            : sinal de sincronismo (0V:-40IRE)
                      00382                                                                                 ;saida-0 e sincronismo-1
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            : nivel de preto (0.3V:7.5IRE)
                      00383                                                                                 ;saida-1 e sincronismo-1
                            : nivel de branco (1V:100IRE)
                      00384 
                      00385 ;Os pinos saida e sincronismo estao ligados entre si por resistores (cfe. esquematico) para funcionarem
                      00386 ;como um DA de 2bits gerando os sinais 0V, 0.3V e 1V quando ligados a uma carga de 75Ohms (entrada TVs).
                      00387 
                      00388 
                      00389 #DEFINE                 LED_SEROK       PORTB,7         ;Indica que uma linha de comando está aberta.
                      00390 #DEFINE                 LED_SERERR      PORTB,6         ;Indica que ocorreu um erro.
                      00391 #DEFINE                 LED_OERR        PORTB,4         ;Define o pino do led que indicará o erro no rec
                            ebimento
                      00392 #DEFINE                 LED_DEBUG       PORTB,0         ;usado para debug apenas
                      00393 
                      00394 ;****************************************************************************
                      00395 ;*                                                              VETOR DE RESET                          
                                                            *
                      00396 ;****************************************************************************
0000                  00397         ORG             0x00                            ;ENDEREÇO INICIAL DE PROCESSAMENTO
0000   28AC           00398         GOTO            INICIO
                      00399 
                      00400 
                      00401 
                      00402 ;****************************************************************************
                      00403 ;*                                              INÍCIO DAS INTERRUPÇÕES                                 
                                                    *
                      00404 ;****************************************************************************
                      00405 ;ENDEREÇOS DE DESVIO DAS INTERRUPÇÕES, A PRIMEIRA TAREFA É SALVAR OS VALORES
                      00406 ;DE "W" E "STATUS" PARA RECUPERAÇÃO FUTURA. ASSIM NAO HA O RISCO DE DANIFICAR ALGO.
                      00407 
0004                  00408         ORG             0x04                            ;ENDEREÇO INICIAL DAS INTERRUPÇÕES
0004   00F0           00409         MOVWF           W_TEMP                          ;COPIA W PARA W_TEMP
0005   0E03           00410         SWAPF           STATUS,0
0006   00F1           00411         MOVWF           STATUS_TEMP                     ;COPIA STATUS PARA STATUS_TEMP
                      00412 
                      00413 
                      00414 ;@@@@@@@@@@@@@@@@@@@@@@@@@   INICIO DE UM PULSO   @@@@@@@@@@@@@@@@@@@@@@@@@@@
                      00415 ;SINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINC
                      00416 ;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
                      00417         ;Inicia a borda preta do sincronismo para economizar tempo
                      00418         ;Tempo aprox. 1.4uS
0007   1286           00419         bcf                     saida
                      00420         ;Inicio da contagem de tempo
                      00421         ;1 ciclo
                      00422 
                      00423 ;****************************************************************************
                      00424 ;*                                                      ROTINA DE INTERRUPÇÃO                           
                                                    *
                      00425 ;****************************************************************************
                      00426 ;AQUI SERÃO ESCRITAS AS ROTINAS DE RECONHECIMENTO E TRATAMENTO DAS INTERRUPÇÕES
                      00427 ;No PIC16F628A, para sabermos qual foi a interrupção que ocorreu deve-se fazer
                      00428 ;um tratamento por software (polling).
                      00429 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0008   190B           00430         btfsc           INTCON,T0IF                     ;Testa se interrupção foi do TMR0
0009   280D           00431         goto            INT_TIMER0
                      00432 
000A   1A8C           00433         btfsc           PIR1,RCIF                       ;Testa se interrupção foi por recebimento serial
000B   285C           00434         goto            INT_SERIAL
                      00435 
000C   28A1           00436         goto            SAI_INT                         ;Este comando nao eh necessario, mas...
                      00437                                                                         ;nao custa ser prevenido.
                      00438 
                      00439 ;
                      00440 ;
                      00441 ;Tratamento da interrupção por estouro do Timer0
                      00442 ;
                      00443 ;4 ciclos
000D                  00444 INT_TIMER0
000D   110B           00445         bcf                     INTCON,T0IF                     ;Limpa o bit que foi setado pelo estouro
                             do TMR0
000E   3066           00446         movlw           INIC_TMR0
000F   0081           00447         movwf           TMR0                            ;Recarrega o TMR0
                      00448         ;7 ciclos @ 20MHz = 1.4us
                      00449 
                      00450 ;@@@@@@@@@@@@@@@@@@@@@@@@@   INICIO DE UM PULSO   @@@@@@@@@@@@@@@@@@@@@@@@@@@
                      00451 ;SINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINC
                      00452 ;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
                      00453         ;Neste ponto, termina a borda preta do inicio do pulso horizontal
                      00454         ;e comeca o pulso de sincronismo.
0010   1186           00455         bcf                     sincronismo
                      00456         ;Inicio do pulso de 4.8uS no nivel de sincronismo
                      00457         ;24 ciclos.
                      00458         ;NOPS .24
                      00459         ;
                      00460         ;Codigo usado para ligar ou desligar linhas na imagem.
                      00461         ;Eh feito um teste com a contagem de linhas atuais e a margem superior. Se a contagem
                      00462         ;das linhas atuais tiver ultrapassado o valor da margem superior, liga a imagem.
0011   0875           00463         movfw           MARGEM_SUPERIOR
0012   1003           00464         bcf                     STATUS,0                        ;Seta o C (se ele for 0, negativo)
0013   0273           00465         subwf           CONT_VERT,W                     ;Subtrai MARGEM_SUPERIOR de CONT_VERT e armazena
                             em W.
0014   1803           00466         btfsc           STATUS,0                        ;Testa se o resultado acima foi menor que zero.
0015   281B           00467         goto            DESENHA_TELA1           ;Menor que zero
0016   2817           00468         goto            NAO_DESENHA_TELA1       ;Maior ou igual a zero
0017                  00469 NAO_DESENHA_TELA1
0017   01F7           00470         clrf            CONTA_3LINHAS_A         ;Garante o sincronismo entre a memoria e 
0018   01F8           00471         clrf            CONTA_3LINHAS_B         ;o inicio do desenho na tela.
0019   11F4           00472         bcf                     TELA                            ;Desativa a saida de imagem
001A   281F           00473         goto            FIM_DESENHA_TELA1       
001B                  00474 DESENHA_TELA1
001B   15F4           00475         bsf                     TELA                            ;Ativa a saida de imagem        
001C   0000           00476         nop                                                             ;Para manter o mesmo numero de c
                            iclos
001D   0000           00477         nop                                                             ;que o caso NAO_DESENHA_TELA1
001E   0000           00478         nop
001F                  00479 FIM_DESENHA_TELA1
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001F   0876           00480         movfw           MARGEM_INFERIOR         ;Verifica se jah ultrapassou o limite inferior.
0020   1003           00481         bcf                     STATUS,0                        ;Seta o Carry (se ele for 0, no. negativ
                            o)
0021   0273           00482         subwf           CONT_VERT,W
0022   1803           00483         btfsc           STATUS,0
0023   11F4           00484         bcf                     TELA    
                      00485 
                      00486 ;Codigo usado para repetir uma linha de memoria de imagem 3X na tela. Assim consigo "pixels" com
                      00487 ;a altura de 3 linhas de video.
                      00488 ;Ele tambem faz o servico de ler da memoria de imagem e colocar na memoria de linha.
0024   0BF7           00489         decfsz          CONTA_3LINHAS_A,F
0025   282D           00490         goto            CONTINUA_NA_MESMA_LINHA1
                      00491         
0026   0800           00492         movfw           INDF
0027   00A0           00493         movwf           END_BASE_LINHA
0028   0A84           00494         incf            FSR,F                                                   ;A primeira ocorrencia d
                            esta linha deve ter sido precedida
                      00495                                                                                                 ;em algu
                            m pto do codigo pela carga do FSR com o endereco
                      00496                                                                                                 ;inicial
                             da memoria da imagem.
0029   0800           00497         movfw           INDF
002A   00A1           00498         movwf           END_BASE_LINHA + 1
002B   0A84           00499         incf            FSR,F
                      00500 
002C   2837           00501         goto            CONTINUA_SINCRONISMO1                   ;Para nao estragar o sincronismo, tive d
                            e quebrar a rotina em duas.
                      00502 
002D                  00503 CONTINUA_NA_MESMA_LINHA1
002D   1FF7           00504         btfss           CONTA_3LINHAS_A,7                               ;Se for um, significa que CONTA_
                            3LINHAS virou.
002E   2833           00505         goto            CONTINUA_NA_MESMA_LINHA1_SR             ;Tenho que cuidar se for feita alteracao
                             do codigo acima,
                      00506                                                                                                 ;porque 
                            posso perder essa informacao. Ou seja, nao posso mudar
                      00507                                                                                                 ;o regis
                            trador STATUS sem salvar antes.
002F   3005           00508         movlw           TAM_PXL
0030   00F7           00509         movwf           CONTA_3LINHAS_A                                 ;Recarrega o contador
0031   0000           00510         nop
0032   2837           00511         goto            CONTINUA_SINCRONISMO1
                      00512 
0033                  00513 CONTINUA_NA_MESMA_LINHA1_SR
0033   0000           00514         nop
0034   0000           00515         nop
0035   0000           00516         nop
0036   0000           00517         nop
                      00518         ;fim do pulso de 4.8uS (24 ciclos@20MHz)
                      00519 
0037                  00520 CONTINUA_SINCRONISMO1
                      00521 
                      00522 ;@@@@@@@@@@@@@@@@@@@@@@@@@   INICIO DE UM PULSO   @@@@@@@@@@@@@@@@@@@@@@@@@@@
                      00523 ;SINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINCSINC
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00524 ;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
0037   1586           00525         bsf                     sincronismo
                      00526         ;Inicio do pulso de 4.8uS no nivel de preto (24 ciclos@20MHz)
                      00527         ;Aqui eu utilizaria 24 ciclos, mas como sao gastos 8 ciclos para
                      00528         ;sair da interrupcao do timer0 diminuo aqui.
                      00529 
0038   0BF8           00530         decfsz          CONTA_3LINHAS_B,F
0039   2847           00531         goto            CONTINUA_NA_MESMA_LINHA2
                      00532         
003A   0800           00533         movfw           INDF
003B   00A2           00534         movwf           END_BASE_LINHA + 2
003C   0A84           00535         incf            FSR,F
                      00536 
003D   0800           00537         movfw           INDF
003E   00A3           00538         movwf           END_BASE_LINHA + 3
003F   0A84           00539         incf            FSR,F
                      00540 
0040   0800           00541         movfw           INDF
0041   00A4           00542         movwf           END_BASE_LINHA + 4
0042   0A84           00543         incf            FSR,F
                      00544 
0043   0800           00545         movfw           INDF
0044   00A5           00546         movwf           END_BASE_LINHA + 5
0045   0A84           00547         incf            FSR,F
0046   2857           00548         goto            CONTINUA_SINCRONISMO2
                      00549 
0047                  00550 CONTINUA_NA_MESMA_LINHA2
0047   1FF8           00551         btfss           CONTA_3LINHAS_B,7                               ;Se for um, significa que CONTA_
                            3LINHAS virou.
0048   2853           00552         goto            CONTINUA_NA_MESMA_LINHA2_SR             ;Tenho que cuidar se for feita alteracao
                             do codigo acima,
                      00553                                                                                                 ;porque 
                            posso perder essa informacao.
                      00554         
0049   3005           00555         movlw           TAM_PXL
004A   00F8           00556         movwf           CONTA_3LINHAS_B                                 ;Recarrega o contador
                      00557 ;       NOPS .7
004B   0000           00558         nop
                      00559         ;
004C   1DF4           00560         btfss           TELA                                                    ;Resolve o problema da c
                            ontagem errada
004D   3001           00561         movlw           TAM_PXL-.4                                              ;na primeira linha apos 
                            a MARGEM_SUPERIOR
004E   1DF4           00562         btfss           TELA
004F   00F7           00563         movwf           CONTA_3LINHAS_A
0050   1DF4           00564         btfss           TELA
0051   00F8           00565         movwf           CONTA_3LINHAS_B
                      00566         ;
0052   2857           00567         goto            CONTINUA_SINCRONISMO2
                      00568 
0053                  00569 CONTINUA_NA_MESMA_LINHA2_SR                                             ;O SR eh de S_em R_ecarregar o c
                            ontador
                      00570         NOPS .10 ;10 ciclos
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
0053   30FD               M                 movlw           .256-(.10/3)
0054   00F2               M                 movwf           DELAY
0055   0FF2               M                 incfsz          DELAY,F
0056   2855               M                 goto            $-0x01
                          M 
                      00571 
0057                  00572 CONTINUA_SINCRONISMO2
                      00573 
0057   0FF3           00574         incfsz          CONT_VERT,f                     ;Conta ateh 242 e depois sinaliza
0058   285A           00575         goto            SEM_SINCV_AINDA
0059   14F4           00576         bsf                     SINC_V                          ;que eh hora da sincronia vertical
                      00577 
005A                  00578 SEM_SINCV_AINDA
                      00579 
005A   1474           00580         bsf                     SINC_H                                  ;Ativa a saida de imagem
                      00581 
005B   28A1           00582         goto            SAI_INT ;2 ciclos
                      00583 
                      00584 ;#####################################################################################
                      00585 ;                                               TRATAMENTO DA INTERRUPCAO DA SERIAL
                      00586 ;#####################################################################################
                      00587 ;Tratamento da interrupção devido à recepção pela Serial
                      00588 ;
                      00589 ;A utilizacao de um buffer de comandos faz com que a serial não prejudique a geração
                      00590 ;dos pulsos de sincronismo.
                      00591 ;Após o buffer de comandos ter sido finalizado com um CR, fica liberado o processamento
                      00592 ;utilizando o tempo livre da tela em branco (campo par).
                      00593 
005C                  00594 INT_SERIAL
005C   128C           00595         bcf             PIR1,RCIF               ;Limpa o RCIF Interrupt Flag.
005D   081A           00596         movf            RCREG,W                         ;Carregou o conteudo recebido no W.
005E   019A           00597         clrf            RCREG                           ;Limpa o RCREG para poder receber o prox byte e 
                            não correr risco de erro.
005F   1206           00598         bcf                     LED_OERR                        ;Desliga o led indicador de erro na seri
                            al.
                      00599 
0060   00FB           00600         movwf           SALVA_CAR                       ;Salva o caractere recebido pela serial.
                      00601 
0061   0804           00602         movfw           FSR                                     ;Salva o conteúdo do registrador FSR
0062   00FA           00603         movwf           SALVA_FSR                       ;para não danificar a geração de imagem.
                      00604 
                      00605 
                      00606 ;A PARTIR DESSE PTO ACREDITO QUE POSSO MUDAR PARA O BANCO1 SEM PROBLEMAS, POIS O
                      00607 ;REGISTRADOR STATUS TEM UMA SOMBRA NO BANCO1 E A MEMORIA DE PROGRAMA (0x70 ATÉ 0x7F) TAMBÉM.
                      00608 
                      00609 
0063                  00610 NIVEL_UM
                      00611 ;Só passo para um nível adiante se receber o '@' indicando o início de um conjunto de comandos.
                      00612 ;Com esse sistema, posso ficar aguardando quanto tempo for necessário para receber uma linha
                      00613 ;de comandos completa. Assim não prejudico a geração de sincronismo.
                      00614         
0063   087B           00615         movfw           SALVA_CAR                       ;Restaura o caractere recebido pela serial no W.
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00616 
0064   1A74           00617         btfsc           ARROBA                          ;Testa se já recebi um '@' pela serial e, portan
                            to,
                      00618                                                                         ;que iniciará uma linha de coman
                            dos.
                      00619 
0065   2872           00620         goto            NIVEL_CMDS                      ;Passa para o nível de recebimento de comandos.
                      00621         
                      00622 
                      00623         ;Teste para verificar se recebi um '@'.
0066   1103           00624         bcf                     STATUS,2                        ;Limpa o Z.
0067   3A40           00625         xorlw           AR                                      ;Codigo ASCII para o '@'.
0068   1903           00626         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0069   286C           00627         goto            RECEBI_ARROBA           ;Se o Z foi para 1, recebi o '@'.
006A   20A9           00628         call            LEDERR                          ;Indica que não recebeu a letra correta.
006B   289B           00629         goto            CONTINUA_SERIAL         ;Segue adiante esperando a próxima interrupção.
                      00630 
                      00631         
006C                  00632 RECEBI_ARROBA
006C   20A6           00633         call            LEDOK                           ;Indica que iniciou uma linha de comando.
006D   1674           00634         bsf                     ARROBA                          ;Indica que recebi um '@'
006E   12F4           00635         bcf                     EXECUTA                         ;Desliga a execução de comandos.
                      00636 
006F   30A0           00637         movlw           END_INIC_CMDS           ;Inicializa o contador do buffer com o endereço inicial
0070   00F9           00638         movwf           CONT_BUFFER                     ;do buffer de comandos (que se encontra no banco
                             1).
                      00639 
0071   289B           00640         goto            CONTINUA_SERIAL         ;Segue adiante esperando a próxima interrupção.
                      00641 
0072                  00642 NIVEL_CMDS
                      00643 ;Se recebi um arroba, começo a guardar no buffer de comandos tudo o que for recebido.
                      00644 ;Caso receba um CR, preencho o resto do buffer com espaços em branco.
                      00645 ;Caso receba um ESC, esqueço tudo e seto ARROBA com zero.
                      00646 
                      00647         ;Teste para verificar se recebi um 'CR'.
0072   1103           00648         bcf                     STATUS,2                        ;Limpa o Z.
0073   3A0D           00649         xorlw           CR                                      ;Codigo ASCII para o 'CR'.
0074   1903           00650         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0075   288E           00651         goto            RECEBEU_CR                      ;Se o Z foi para 1, recebi o 'CR'.
0076   3A0D           00652         xorlw           CR                                      ;Se o Z nao foi para 1, desfaz o XOR.
                      00653 
                      00654         ;Teste para verificar se recebi um 'ESC'.
0077   1103           00655         bcf                     STATUS,2                        ;Limpa o Z.
0078   3A1B           00656         xorlw           ESC                                     ;Codigo ASCII para o 'ESC'.
0079   1903           00657         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
007A   2899           00658         goto            RECEBEU_ESC                     ;Se o Z foi para 1, recebi o 'ESC'.
007B   3A1B           00659         xorlw           ESC                                     ;Se o Z nao foi para 1, desfaz o XOR.
                      00660 
                      00661 
                      00662         ;Inicia o preenchimento do buffer com comandos
                      00663         
007C   0879           00664         movfw           CONT_BUFFER                     ;Este contador deve manter o seu valor enquanto 
                            não tiver acabado o
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00665                                                                         ;recebimento dos comandos pelo b
                            uffer.
007D   0084           00666         movwf           FSR                                     ;Carrega o FSR com o endereço do buffer 
                            de comando
                      00667 
007E   087B           00668         movfw           SALVA_CAR                       ;Recarrega o caractere recebido no W.
007F   0080           00669         movwf           INDF                            ;Coloca o caractere recebido no endereco CONT_BU
                            FFER do buffer.
                      00670 
0080   0AF9           00671         incf            CONT_BUFFER,F           ;Incrementa o endereço.
                      00672         
                      00673         ;Testa se já alcançou o último endereço do buffer de comandos.
0081   0879           00674         movfw           CONT_BUFFER                     ;Carrega o último endereço calculado.
0082   1103           00675         bcf                     STATUS,2                        ;Limpa o Z.
0083   3AAC           00676         xorlw           END_FIM_CMDS+0x01       ;Testa se é igual ao último endereço do buffer + 1.
0084   1903           00677         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0085   2887           00678         goto            ACABOU_CMDS                     ;Se o Z foi para 1, acabou.
0086   288B           00679         goto            CONTINUA_CMDS           ;Se o Z nao foi para 1, continua recebendo comandos.
                      00680 
0087                  00681 ACABOU_CMDS
0087   1386           00682         bcf             LED_SEROK                       ;Indica desligando o led.
0088   1274           00683         bcf                     ARROBA                          ;Libera o recebimento de outra linha de 
                            comandos.
0089   16F4           00684         bsf                     EXECUTA                         ;Indica que uma linha de comandos está p
                            ronta pra execução.
008A   01F9           00685         clrf            CONT_BUFFER                     ;Zera o contador
                      00686 
008B                  00687 CONTINUA_CMDS
008B   087A           00688         movfw           SALVA_FSR                       ;Restaura o conteúdo do registrador FSR
008C   0084           00689         movwf           FSR                                     ;para não danificar a geração de imagem.
                      00690 
008D   289B           00691         goto            CONTINUA_SERIAL         ;Segue adiante esperando a próxima interrupção.
                      00692 
008E                  00693 RECEBEU_CR
                      00694         ;Inicia o preenchimento do resto do buffer de comando com espaços em branco.
                      00695         
008E   0879           00696         movfw           CONT_BUFFER
008F   0084           00697         movwf           FSR                                     ;Carrega o FSR com o endereço do buffer 
                            de comando
                      00698 
0090   3020           00699         movlw           SP                                      ;Coloca o valor ASCII do espaço no W.
0091   0080           00700         movwf           INDF                            ;Coloca o W no endereco CONT_BUFFER do buffer.
                      00701 
0092   0AF9           00702         incf            CONT_BUFFER,F           ;Incrementa o endereço.
                      00703         
                      00704         ;Testa se já alcançou o último endereço do buffer de comandos.
0093   0879           00705         movfw           CONT_BUFFER                     ;Carrega o último endereço calculado.
0094   1103           00706         bcf                     STATUS,2                        ;Limpa o Z.
0095   3AAC           00707         xorlw           END_FIM_CMDS+0x01       ;Testa se é igual ao último endereço do buffer + 1.
0096   1903           00708         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0097   2887           00709         goto            ACABOU_CMDS                     ;Se o Z foi para 1, acabou.
0098   288E           00710         goto            RECEBEU_CR                      ;Se o Z nao foi para 1, continua preenchendo com
                             espaços.
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00711 
0099                  00712 RECEBEU_ESC
0099   1386           00713         bcf             LED_SEROK                       ;Indica desligando o led.
009A   1274           00714         bcf                     ARROBA                          ;Libera o recebimento de outra linha de 
                            comandos
                      00715                                                                         ;e com isso sobrescreve a atual.
                      00716 
                      00717 
009B                  00718 CONTINUA_SERIAL
009B   1898           00719         btfsc           RCSTA,OERR                      ;Testa se houve erro na recepção (overrun error)
009C   289E           00720         goto            ERRO_OERR
                      00721 
009D   28A1           00722         goto            SAI_INT
                      00723 
                      00724 
                      00725 ;Tratamento do Overrun Error e acendimento / apagamento do led indicativo
009E                  00726 ERRO_OERR
009E   1606           00727         bsf                     LED_OERR                        ;Acende o led que só será apagado no pró
                            ximo caractere recebido.
                      00728         
009F   1218           00729         bcf                     RCSTA,CREN                      ;Desliga o bit OERR (ele é ligado por ha
                            rdware)
                      00730                                                                         ;Note que para desligar o OERR é
                             necessário
                      00731                                                                         ;desligar e ligar o CREN (que at
                            iva o recebimento.
                      00732 
00A0   28A1           00733         goto            SAI_INT
                      00734 
                      00735 ;O bit OERR deve ser limpo por software.
                      00736 
                      00737 
                      00738 ;****************************************************************************
                      00739 ;*                                                      ROTINA DE SAÍDA DA INTERRUPÇÃO                  
                                            *
                      00740 ;****************************************************************************
                      00741 ;OS VALORES DE "W" E "STATUS" DEVEM SER RECUPERADOS ANTES DE RETORNAR DA INTERRUPÇÃO
                      00742 
00A1                  00743 SAI_INT
                      00744 ;Restaura os registradores W e STATUS ao estado que estavam antes da interrupcao.
00A1   0E71           00745         SWAPF           STATUS_TEMP,0
00A2   0083           00746         MOVWF           STATUS                          ;MOVE STATUS_TEMP PARA STATUS
00A3   0EF0           00747         SWAPF           W_TEMP,1
00A4   0E70           00748         SWAPF           W_TEMP,0                        ;MOVE W_TEMP PARA W
00A5   0009           00749         RETFIE                                                  ;RETORNA DA INTERRUPÇÃO (VER ESQUEMA LIV
                            RO PÁG 135)
                      00750         ;Este pequeno trecho consome 6 ciclos.
                      00751 
                      00752 ;OBSERVAÇÕES: 
                      00753 ;- A utilização de SWAPF ao invés de MOVF evita a alteração do STATUS.
                      00754 ;- No início do tratamento da interrupção, a chave geral é desligada automaticamente
                      00755 ;e depois do RETFIE ela é religada.
                      00756 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00757 ;****************************************************************************
                      00758 ;*                                                      ROTINAS E SUBROTINAS - PEQUENAS                 
                                            *
                      00759 ;****************************************************************************
                      00760 ;CADA ROTINA OU SUBROTINA DEVE POSSUIR A DESCRIÇÃO DE FUNCIONAMENTO E UM
                      00761 ;NOME COERENTE ÀS SUAS FUNÇÕES
                      00762 
00A6                  00763 LEDOK
00A6   1786           00764         bsf             LED_SEROK
00A7   1306           00765         bcf                     LED_SERERR      
00A8   0008           00766         return
                      00767 
00A9                  00768 LEDERR
00A9   1706           00769         bsf                     LED_SERERR
00AA   1386           00770         bcf                     LED_SEROK
00AB   0008           00771         return
                      00772 
                      00773 ;****************************************************************************
                      00774 ;*                                                      INÍCIO DO PROGRAMA                              
                                                            *
                      00775 ;****************************************************************************
                      00776 
00AC                  00777 INICIO
                      00778 
00AC   1283           00779         BANK0                                                   ;TROCA PARA O BANCO DE MEMÓRIA 0
00AD   0185           00780         CLRF            PORTA                           ;LIMPA O PORTA
00AE   0186           00781         CLRF            PORTB                           ;LIMPA O PORTB
                      00782 
00AF   1683           00783         BANK1                                                   ;TROCA PARA O BANCO DE MEMÓRIA 1
00B0   3000           00784         MOVLW           B'00000000'
00B1   0085           00785         MOVWF           TRISA                           ;DEFINE ENTRADAS E SAÍDAS DO PORT A
                      00786 
00B2   3006           00787         MOVLW           B'00000110'
00B3   0086           00788         MOVWF           TRISB                           ;DEFINE ENTRADAS E SAÍDAS DO PORT B
                      00789                                                                         ;Bits 1 e 2 referentes a USART
00B4   3000           00790         MOVLW           B'00000000'
00B5   0081           00791         MOVWF           OPTION_REG                      ;DEFINE OPÇÕES DE OPERAÇÃO
                      00792                                                                         ;ver pag 25 do datasheet
                      00793 
00B6   3000           00794         MOVLW           B'00000000'
00B7   008B           00795         MOVWF           INTCON                          ;DEFINE OPÇÕES DE INTERRUPÇÕES
                      00796                                                                         ;ver pag 26 do datasheet
                      00797 
                      00798 ;MEU SETUP
                      00799 ;Aqui são configurados os registrados especiais (SFR) para o funcionamento correto do sistema
                      00800 ;Para mais informações sobre os bits dos SFRs, ver livro pág 193 ou datasheet.
00B8   1283           00801         BANK0
00B9   3000           00802         movlw           .0
00BA   0081           00803         movwf           TMR0                            ;Inicializa o TMR0 com ZERO
                      00804                                                                         ;Para que ele nao estoure antes 
                            de 
                      00805                                                                         ;terminar as configuracoes.
                      00806 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00807         ;Setup para recepção pela USART assíncrona.
                      00808         ;A configuração será feita para 2400-8N1.
                      00809         ;Baud-Rate 2400, 8 bits de dados, sem paridade e um stop-bit.
00BB   1683           00810         BANK1
00BC   3081           00811         movlw           .129                            ;Carrega o valor para
00BD   0099           00812         movwf           SPBRG                           ;setar o BaudRate da USART para 2400@20MHz
                      00813                                                                         ;e erro de 0.16%
00BE   1218           00814         bcf                     TXSTA, SYNC                     ;Habilita a Porta Serial Assíncrona
00BF   1118           00815         bcf                     TXSTA, BRGH                     ;Seta para Low Speed Baud
                      00816 
00C0   1283           00817         BANK0                                                   
00C1   1798           00818         bsf                     RCSTA, SPEN                     ;
00C2   1018           00819         bcf                     RCSTA, RX9D                     ;Desabilita a recepção de 9bits (usada p
                            ara o CRC por software).
00C3   1618           00820         bsf                     RCSTA, CREN                     ;Habilita a recepção.
                      00821 
00C4   1683           00822         BANK1
00C5   168C           00823         bsf                     PIE1, RCIE                      ;Habilita a interrupção de recepção
                      00824         ;Fim do setup da serial
                      00825 
                      00826 
00C6   1683           00827         BANK1
00C7   1281           00828         bcf                     OPTION_REG,T0CS         ;Seta o TMR0 para o timer mode - incrementa a ca
                            da ciclo de clock
                      00829 ;       bsf                     OPTION_REG,PSA          ;Ativa o Prescaler para o WDT fazendo com que o 
                            TIMER0 fique 1:1
00C8   1181           00830         bcf                     OPTION_REG,PSA          ;Ativa o Prescaler para o TIMER0
00C9   1101           00831         bcf                     OPTION_REG,PS2          ;Seta como 1:2->000
00CA   1081           00832         bcf                     OPTION_REG,PS1
00CB   1001           00833         bcf                     OPTION_REG,PS0
                      00834                 
                      00835 
00CC   168B           00836         bsf                     INTCON, T0IE            ;Habilita a interrupção do TMR0
00CD   170B           00837         bsf                     INTCON, PEIE            ;Habilita as interrupções dos periféricos.
00CE   178B           00838         bsf                     INTCON, GIE                     ;Ativa as interrupções
                      00839 
00CF   1283           00840         BANK0
                      00841 
00D0   1383           00842         bcf                     STATUS,IRP                      ;Habilita o uso de INDF com os bancos 0 
                            e 1.
                      00843                                                                         ;Deste modo tenho um acesso cont
                            ínuo da memória
                      00844                                                                         ;dos bancos 1 e 2 utilizando FSR
                             e INDF.
                      00845 
                      00846 ;Fim do MEU SETUP
                      00847 
                      00848 
                      00849 ;****************************************************************************
                      00850 ;*                                                      INICIALIZAÇÃO DAS VARIÁVEIS                     
                                                    *
                      00851 ;****************************************************************************
                      00852 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D1   300E           00853         movlw           .14
00D2   00F3           00854         movwf           CONT_VERT                       ;Inicializa o contador de linhas
                      00855                                                                         ;para conseguir contar 242 linha
                            s
                      00856 
                      00857         ;Nao esquecer que o valor minimo desses caras eh .14
                      00858         ;A area util do sistema inicia com MARGEM_SUPERIOR=50
                      00859 ;       movlw           .50                                     ;Valor Minimo
00D3   3096           00860         movlw           LINHA_INICIO
00D4   00F5           00861         movwf           MARGEM_SUPERIOR
                      00862 
                      00863 ;       movlw           .242                            ;Valor Maximo
00D5   30DE           00864         movlw           2*LINHA_QUANT + LINHA_INICIO
00D6   00F6           00865         movwf           MARGEM_INFERIOR
                      00866 
00D7   3005           00867         movlw           TAM_PXL                         ;Inicializa os contadores que geram um pixel com
                             3 linhas
00D8   00F7           00868         movwf           CONTA_3LINHAS_A
00D9   00F8           00869         movwf           CONTA_3LINHAS_B
                      00870 
                      00871         ;Carrega o primeiro endereço de onde esta a imagem que ser colocada na tela
                      00872         ;Tenho que cuidar porque não posso mais usar o FSR em outro lugar sem salva-lo e
                      00873         ;depois restaurá-lo.
00DA   3026           00874         movlw           END_INIC_VIDEO          ;Inicia o FSR com o primeiro
00DB   0084           00875         movwf           FSR                                     ;endereço da memória de vídeo.
                      00876 
                      00877 
00DC   1074           00878         bcf                     SINC_H                          ;Para que a imagem só comece depois do
                      00879                                                                         ;TIMER0 ter estourado uma primei
                            ra vez.
                      00880 
00DD   1574           00881         bsf                     ODD                                     ;O primeiro campo eh impar.
                      00882         
00DE   10F4           00883         bcf                     SINC_V                          ;Nunca comeca com sincronismo vertical.
                      00884 
00DF   11F4           00885         bcf                     TELA                            ;Inicia com tela preta.
                      00886 
00E0   1274           00887         bcf                     ARROBA                          ;Inicia indicando que não foi recebido o
                             '@' pela serial.
                      00888 
00E1   12F4           00889         bcf                     EXECUTA                         ;Inicia indicando para não executar o bu
                            ffer de comandos.
                      00890 
00E2   1374           00891         bcf             MEIOBYTE                        ;Inicia no LSB.
                      00892 
00E3   13F4           00893         bcf                     SPLASH                          ;Inicia indicando que não ocorreu a spla
                            sh.
                      00894 
00E4   1206           00895         bcf                     LED_OERR                        ;Inicia com zero (apagado).
                      00896 
00E5   1386           00897         bcf                     LED_SEROK                       ;Inicia com zero (apagado).
                      00898 
00E6   1306           00899         bcf                     LED_SERERR                      ;Inicia com zero (apagado).
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00900 
                      00901 ;****************************************************************************
                      00902 ;*                                                      CORPO DA ROTINA PRINCIPAL                       
                                                    *
                      00903 ;****************************************************************************
                      00904 
00E7                  00905 MAIN
                      00906         ;CORPO DA ROTINA PRINCIPAL
                      00907 
                      00908         ;Carrega a 'SplashWindow' na memória RAM.
00E7   2300           00909         call            SPLASHWINDOW
                      00910 
                      00911 ;Fica em loop aguardando o sincronismo horizontal.
                      00912 ;Ou, melhor, o estouro do TMR0.
00E8                  00913 SEM_SINC_H
00E8   1C74           00914         btfss           SINC_H                                          ;Testa se já ocorreu o sincronis
                            mo horizontal.
00E9   28E8           00915         goto            SEM_SINC_H
                      00916 
00EA   18F4           00917         btfsc           SINC_V                                          ;Testa se esse é um sincronismo 
                            vertical
00EB   2A1A           00918         goto            SINCRONISMO_VERTICAL
                      00919 
00EC   1286           00920         bcf                     saida                                           ;Garante as linhas pares
                             apagadas
                      00921 
00ED   1D74           00922         btfss           ODD                                                     ;Testa se é o campo par 
                            ou ímpar.
00EE   2BD8           00923         goto            EXECUTA_COMANDOS                        ;Aproveito o tempo livre do campo par pa
                            ra
                      00924                                                                                         ;processar os co
                            mandos recebidos pela serial.
                      00925                                                                                         ;Não foi possíve
                            l usar um call aqui, porque eu
                      00926                                                                                         ;teria que coloc
                            ar mais um teste depois para saltar pro SEM_SINC_H.
                      00927 
00EF   0000           00928         nop                                                                             ;Importante para
                             manter o sincronismo
00F0   0000           00929         nop                                                                             ;
                      00930 
                      00931 ;A imagem deve estar armazenada na memória para ser lida
                      00932 ;conforme é feito abaixo (cada vez que for escrita uma linha).
                      00933 
00F1   1DF4           00934         btfss           TELA                                            ;Testa se a tela foi liberada pa
                            ra que eu
00F2   2A14           00935         goto            FIM_DA_IMAGEM                           ;posso desenhar algo nela.
                      00936 
                      00937 ;Inicio da leitura da imagem da memoria
00F3                  00938 INICIO_DA_IMAGEM
                      00939 
00F3                  00940 bit00
                      00941         SAIDABIT 0x20,0x25,48,bit00                             ;soh os primeiros 45 ptos sao visiveis n
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            a tela
  0000                    M                                 VARIABLE        i=0                                                     
                            ;Define uma variável para o compilador
                          M                                                                                                         
                                    ;NÃO ESTARÁ PRESENTE NO CODIGO DE PROGRAMA!
  0000                    M                                 VARIABLE        it=0                                            ;Usada p
                            ara medir o total de bits
  0020                    M                                 VARIABLE        ENDERECO=0x20
                          M 
                          M                                 WHILE (ENDERECO<=0x25)         && (it<48)
                          M                                         WHILE (i<8) && (it<48)
00F3   1C20               M                                                 btfss           ENDERECO,i
00F4   28F7               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
00F5   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
00F6   28F9               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
00F7   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
00F8   0000               M                                                 nop
  00000001                M                                         i++
  00000001                M                                         it++
                          M         
00F9   1CA0               M                                                 btfss           ENDERECO,i
00FA   28FD               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
00FB   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
00FC   28FF               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
00FD   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
00FE   0000               M                                                 nop
  00000002                M                                         i++
  00000002                M                                         it++
                          M         
00FF   1D20               M                                                 btfss           ENDERECO,i
0100   2903               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0101   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0102   2905               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0103   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0104   0000               M                                                 nop
  00000003                M                                         i++
  00000003                M                                         it++
                          M         
0105   1DA0               M                                                 btfss           ENDERECO,i
0106   2909               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0107   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0108   290B               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0109   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
010A   0000               M                                                 nop
  00000004                M                                         i++
  00000004                M                                         it++
                          M         
010B   1E20               M                                                 btfss           ENDERECO,i
010C   290F               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
010D   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
010E   2911               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
010F   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0110   0000               M                                                 nop
  00000005                M                                         i++
  00000005                M                                         it++
                          M         
0111   1EA0               M                                                 btfss           ENDERECO,i
0112   2915               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0113   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0114   2917               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0115   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0116   0000               M                                                 nop
  00000006                M                                         i++
  00000006                M                                         it++
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M         
0117   1F20               M                                                 btfss           ENDERECO,i
0118   291B               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0119   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
011A   291D               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
011B   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
011C   0000               M                                                 nop
  00000007                M                                         i++
  00000007                M                                         it++
                          M         
011D   1FA0               M                                                 btfss           ENDERECO,i
011E   2921               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
011F   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0120   2923               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0121   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0122   0000               M                                                 nop
  00000008                M                                         i++
  00000008                M                                         it++
                          M         
                          M                                         ENDW ;fim do 2° while
  00000000                M                                 i=0
  00000021                M                                 ENDERECO++
                          M                                         WHILE (i<8) && (it<48)
0123   1C21               M                                                 btfss           ENDERECO,i
0124   2927               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0125   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0126   2929               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0127   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0128   0000               M                                                 nop
  00000001                M                                         i++
  00000009                M                                         it++
                          M         
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0129   1CA1               M                                                 btfss           ENDERECO,i
012A   292D               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
012B   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
012C   292F               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
012D   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
012E   0000               M                                                 nop
  00000002                M                                         i++
  0000000A                M                                         it++
                          M         
012F   1D21               M                                                 btfss           ENDERECO,i
0130   2933               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0131   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0132   2935               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0133   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0134   0000               M                                                 nop
  00000003                M                                         i++
  0000000B                M                                         it++
                          M         
0135   1DA1               M                                                 btfss           ENDERECO,i
0136   2939               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0137   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0138   293B               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0139   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
013A   0000               M                                                 nop
  00000004                M                                         i++
  0000000C                M                                         it++
                          M         
013B   1E21               M                                                 btfss           ENDERECO,i
013C   293F               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
013D   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

013E   2941               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
013F   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0140   0000               M                                                 nop
  00000005                M                                         i++
  0000000D                M                                         it++
                          M         
0141   1EA1               M                                                 btfss           ENDERECO,i
0142   2945               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0143   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0144   2947               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0145   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0146   0000               M                                                 nop
  00000006                M                                         i++
  0000000E                M                                         it++
                          M         
0147   1F21               M                                                 btfss           ENDERECO,i
0148   294B               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0149   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
014A   294D               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
014B   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
014C   0000               M                                                 nop
  00000007                M                                         i++
  0000000F                M                                         it++
                          M         
014D   1FA1               M                                                 btfss           ENDERECO,i
014E   2951               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
014F   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0150   2953               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0151   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0152   0000               M                                                 nop
  00000008                M                                         i++
  00000010                M                                         it++
                          M         
                          M                                         ENDW ;fim do 2° while
  00000000                M                                 i=0
  00000022                M                                 ENDERECO++
                          M                                         WHILE (i<8) && (it<48)
0153   1C22               M                                                 btfss           ENDERECO,i
0154   2957               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0155   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0156   2959               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0157   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0158   0000               M                                                 nop
  00000001                M                                         i++
  00000011                M                                         it++
                          M         
0159   1CA2               M                                                 btfss           ENDERECO,i
015A   295D               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
015B   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
015C   295F               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
015D   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
015E   0000               M                                                 nop
  00000002                M                                         i++
  00000012                M                                         it++
                          M         
015F   1D22               M                                                 btfss           ENDERECO,i
0160   2963               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0161   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0162   2965               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0163   1286               M                                                 bcf                     saida                           
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            ;Seta o pino de saída pra 0 (nivel de preto)
0164   0000               M                                                 nop
  00000003                M                                         i++
  00000013                M                                         it++
                          M         
0165   1DA2               M                                                 btfss           ENDERECO,i
0166   2969               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0167   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0168   296B               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0169   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
016A   0000               M                                                 nop
  00000004                M                                         i++
  00000014                M                                         it++
                          M         
016B   1E22               M                                                 btfss           ENDERECO,i
016C   296F               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
016D   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
016E   2971               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
016F   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0170   0000               M                                                 nop
  00000005                M                                         i++
  00000015                M                                         it++
                          M         
0171   1EA2               M                                                 btfss           ENDERECO,i
0172   2975               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0173   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0174   2977               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0175   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0176   0000               M                                                 nop
  00000006                M                                         i++
  00000016                M                                         it++
                          M         
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0177   1F22               M                                                 btfss           ENDERECO,i
0178   297B               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0179   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
017A   297D               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
017B   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
017C   0000               M                                                 nop
  00000007                M                                         i++
  00000017                M                                         it++
                          M         
017D   1FA2               M                                                 btfss           ENDERECO,i
017E   2981               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
017F   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0180   2983               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0181   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0182   0000               M                                                 nop
  00000008                M                                         i++
  00000018                M                                         it++
                          M         
                          M                                         ENDW ;fim do 2° while
  00000000                M                                 i=0
  00000023                M                                 ENDERECO++
                          M                                         WHILE (i<8) && (it<48)
0183   1C23               M                                                 btfss           ENDERECO,i
0184   2987               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0185   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0186   2989               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0187   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0188   0000               M                                                 nop
  00000001                M                                         i++
  00000019                M                                         it++
                          M         
0189   1CA3               M                                                 btfss           ENDERECO,i
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

018A   298D               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
018B   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
018C   298F               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
018D   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
018E   0000               M                                                 nop
  00000002                M                                         i++
  0000001A                M                                         it++
                          M         
018F   1D23               M                                                 btfss           ENDERECO,i
0190   2993               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0191   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0192   2995               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0193   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0194   0000               M                                                 nop
  00000003                M                                         i++
  0000001B                M                                         it++
                          M         
0195   1DA3               M                                                 btfss           ENDERECO,i
0196   2999               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0197   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0198   299B               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0199   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
019A   0000               M                                                 nop
  00000004                M                                         i++
  0000001C                M                                         it++
                          M         
019B   1E23               M                                                 btfss           ENDERECO,i
019C   299F               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
019D   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
019E   29A1               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
019F   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01A0   0000               M                                                 nop
  00000005                M                                         i++
  0000001D                M                                         it++
                          M         
01A1   1EA3               M                                                 btfss           ENDERECO,i
01A2   29A5               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01A3   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01A4   29A7               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01A5   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01A6   0000               M                                                 nop
  00000006                M                                         i++
  0000001E                M                                         it++
                          M         
01A7   1F23               M                                                 btfss           ENDERECO,i
01A8   29AB               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01A9   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01AA   29AD               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01AB   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01AC   0000               M                                                 nop
  00000007                M                                         i++
  0000001F                M                                         it++
                          M         
01AD   1FA3               M                                                 btfss           ENDERECO,i
01AE   29B1               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01AF   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01B0   29B3               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01B1   1286               M                                                 bcf                     saida                           
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            ;Seta o pino de saída pra 0 (nivel de preto)
01B2   0000               M                                                 nop
  00000008                M                                         i++
  00000020                M                                         it++
                          M         
                          M                                         ENDW ;fim do 2° while
  00000000                M                                 i=0
  00000024                M                                 ENDERECO++
                          M                                         WHILE (i<8) && (it<48)
01B3   1C24               M                                                 btfss           ENDERECO,i
01B4   29B7               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01B5   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01B6   29B9               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01B7   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01B8   0000               M                                                 nop
  00000001                M                                         i++
  00000021                M                                         it++
                          M         
01B9   1CA4               M                                                 btfss           ENDERECO,i
01BA   29BD               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01BB   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01BC   29BF               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01BD   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01BE   0000               M                                                 nop
  00000002                M                                         i++
  00000022                M                                         it++
                          M         
01BF   1D24               M                                                 btfss           ENDERECO,i
01C0   29C3               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01C1   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01C2   29C5               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01C3   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01C4   0000               M                                                 nop
  00000003                M                                         i++
  00000023                M                                         it++
                          M         
01C5   1DA4               M                                                 btfss           ENDERECO,i
01C6   29C9               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01C7   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01C8   29CB               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01C9   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01CA   0000               M                                                 nop
  00000004                M                                         i++
  00000024                M                                         it++
                          M         
01CB   1E24               M                                                 btfss           ENDERECO,i
01CC   29CF               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01CD   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01CE   29D1               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01CF   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01D0   0000               M                                                 nop
  00000005                M                                         i++
  00000025                M                                         it++
                          M         
01D1   1EA4               M                                                 btfss           ENDERECO,i
01D2   29D5               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01D3   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01D4   29D7               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01D5   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01D6   0000               M                                                 nop
  00000006                M                                         i++
  00000026                M                                         it++
                          M         
01D7   1F24               M                                                 btfss           ENDERECO,i
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01D8   29DB               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01D9   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01DA   29DD               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01DB   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01DC   0000               M                                                 nop
  00000007                M                                         i++
  00000027                M                                         it++
                          M         
01DD   1FA4               M                                                 btfss           ENDERECO,i
01DE   29E1               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01DF   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01E0   29E3               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01E1   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01E2   0000               M                                                 nop
  00000008                M                                         i++
  00000028                M                                         it++
                          M         
                          M                                         ENDW ;fim do 2° while
  00000000                M                                 i=0
  00000025                M                                 ENDERECO++
                          M                                         WHILE (i<8) && (it<48)
01E3   1C25               M                                                 btfss           ENDERECO,i
01E4   29E7               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01E5   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01E6   29E9               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01E7   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01E8   0000               M                                                 nop
  00000001                M                                         i++
  00000029                M                                         it++
                          M         
01E9   1CA5               M                                                 btfss           ENDERECO,i
01EA   29ED               M                                                 goto            bit00+(6*(it+1))-2
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                                                 ;SETA PINO
01EB   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01EC   29EF               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01ED   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01EE   0000               M                                                 nop
  00000002                M                                         i++
  0000002A                M                                         it++
                          M         
01EF   1D25               M                                                 btfss           ENDERECO,i
01F0   29F3               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01F1   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01F2   29F5               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01F3   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01F4   0000               M                                                 nop
  00000003                M                                         i++
  0000002B                M                                         it++
                          M         
01F5   1DA5               M                                                 btfss           ENDERECO,i
01F6   29F9               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01F7   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01F8   29FB               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01F9   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
01FA   0000               M                                                 nop
  00000004                M                                         i++
  0000002C                M                                         it++
                          M         
01FB   1E25               M                                                 btfss           ENDERECO,i
01FC   29FF               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
01FD   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
01FE   2A01               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
01FF   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0200   0000               M                                                 nop
  00000005                M                                         i++
  0000002D                M                                         it++
                          M         
0201   1EA5               M                                                 btfss           ENDERECO,i
0202   2A05               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0203   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0204   2A07               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0205   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
0206   0000               M                                                 nop
  00000006                M                                         i++
  0000002E                M                                         it++
                          M         
0207   1F25               M                                                 btfss           ENDERECO,i
0208   2A0B               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
0209   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
020A   2A0D               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
020B   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
020C   0000               M                                                 nop
  00000007                M                                         i++
  0000002F                M                                         it++
                          M         
020D   1FA5               M                                                 btfss           ENDERECO,i
020E   2A11               M                                                 goto            bit00+(6*(it+1))-2
                          M                                                 ;SETA PINO
020F   1686               M                                                 bsf                     saida                           
                            ;Seta o pino de saída pra 1 (nivel de branco)
0210   2A13               M                                                 goto            bit00+(6*(it+1))        ;"Mágica" usada 
                            para pular para as linhas corretas 
                          M                                                                                                         
                                    ;ROTULO_INICIAL + NUMERO_DE_INSTRUCOES_DA_MACRO*BITS_LIDOS
                          M                                                 ;LIMPA PINO
0211   1286               M                                                 bcf                     saida                           
                            ;Seta o pino de saída pra 0 (nivel de preto)
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0212   0000               M                                                 nop
  00000008                M                                         i++
  00000030                M                                         it++
                          M         
                          M                                         ENDW ;fim do 2° while
  00000000                M                                 i=0
  00000026                M                                 ENDERECO++
                          M                                 ENDW ;fim do 1° while
0213   0000           00942         nop
                      00943 
                      00944 ;Fim da leitura da imagem da memoria
0214                  00945 FIM_DA_IMAGEM
0214   0000           00946         nop                                                                             ;Importante para
                             manter o sincronismo
0215   0000           00947         nop                                                                             ;
0216   0000           00948         nop
0217   0000           00949         nop
0218   1074           00950         bcf                     SINC_H                                          ;Após o desenho da linha
                            , garante que só vai desenhar
0219   28E8           00951         goto            SEM_SINC_H                                      ;outra linha após o sincronismo 
                            horizontal.
                      00952 
                      00953 
                      00954 
021A                  00955 SINCRONISMO_VERTICAL
                      00956 
                      00957 ;PRIMEIRA EQUALIZACAO
                      00958 ;Sao tres linhas com seis pulsos de sincronizacao
                      00959 
                      00960         ;Primeira linha - H1
                      00961         ;P1.1
                      00962         ;Pulso de sincronismo com 4.8uS=>24ciclos
021A   1286           00963         bcf                     saida
021B   1186           00964         bcf                     sincronismo
                      00965         ;NOPS           .24 ;25 ciclos
                      00966         NOPS            .20     ;19 ciclos
                          M 
021C   30FA               M                 movlw           .256-(.20/3)
021D   00F2               M                 movwf           DELAY
021E   0FF2               M                 incfsz          DELAY,F
021F   2A1E               M                 goto            $-0x01
                          M 
                      00967 
0220   3005           00968         movlw           TAM_PXL                         ;Recarrega o contador de linhas
0221   00F7           00969         movwf           CONTA_3LINHAS_A         ;usado para criar os meus pixels
0222   00F8           00970         movwf           CONTA_3LINHAS_B         ;usado para criar os meus pixels
                      00971 
0223   0000           00972         nop
0224   0000           00973         nop
0225   0000           00974         nop
                      00975 
                      00976         
                      00977         ;P2.1
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00978         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      00979         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      00980         ;fazer alguma coisa nesse tempo livre.
0226   1586           00981         bsf                     sincronismo
0227   128B           00982         bcf                     INTCON,T0IE                     ;Desabilita a interrupção do TMR0
                      00983                                                                         ;para que ele nao estoure no mei
                            o de V_SINC
                      00984         ;NOPS           .134 ;133 ciclos
                      00985 
0228   3026           00986         movlw           END_INIC_VIDEO          ;Recarrega o endereco inicial da memoria
0229   0084           00987         movwf           FSR                                     ;que eu utilizo para armazenar a imagem
                      00988 
                      00989         ;Como o FSR jah foi recarregado, agora preciso recarregar o endereco inicial
                      00990         ;da linha, ou seja, tenho que carregar a primeira linha no END_BASE_LINHA em diante
022A   0800           00991         movfw           INDF
022B   00A0           00992         movwf           END_BASE_LINHA + 0
022C   0A84           00993         incf            FSR,F
                      00994 
022D   0800           00995         movfw           INDF
022E   00A1           00996         movwf           END_BASE_LINHA + 1
022F   0A84           00997         incf            FSR,F
                      00998 
0230   0800           00999         movfw           INDF
0231   00A2           01000         movwf           END_BASE_LINHA + 2
0232   0A84           01001         incf            FSR,F
                      01002 
0233   0800           01003         movfw           INDF
0234   00A3           01004         movwf           END_BASE_LINHA + 3
0235   0A84           01005         incf            FSR,F
                      01006 
0236   0800           01007         movfw           INDF
0237   00A4           01008         movwf           END_BASE_LINHA + 4
0238   0A84           01009         incf            FSR,F
                      01010 
0239   0800           01011         movfw           INDF
023A   00A5           01012         movwf           END_BASE_LINHA + 5
023B   0A84           01013         incf            FSR,F
                      01014 
023C   3026           01015         movlw           END_INIC_VIDEO          ;Recarrega o endereco inicial da memoria
023D   0084           01016         movwf           FSR                                     ;que eu utilizo para armazenar a imagem
                      01017         
                      01018         NOPS .17 ;16 ciclos
                          M 
023E   30FB               M                 movlw           .256-(.17/3)
023F   00F2               M                 movwf           DELAY
0240   0FF2               M                 incfsz          DELAY,F
0241   2A40               M                 goto            $-0x01
                          M 
0242   0000           01019         nop
0243   0000           01020         nop
                      01021 
                      01022         ;P1.2
                      01023         ;Pulso de sincronismo com 4.8uS=>24ciclos
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0244   1186           01024         bcf                     sincronismo
                      01025         NOPS            .25
                          M 
0245   30F8               M                 movlw           .256-(.25/3)
0246   00F2               M                 movwf           DELAY
0247   0FF2               M                 incfsz          DELAY,F
0248   2A47               M                 goto            $-0x01
                          M 
                      01026         
                      01027         ;P2.2
                      01028         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01029         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01030         ;fazer alguma coisa nesse tempo livre.
0249   1586           01031         bsf                     sincronismo
                      01032         NOPS            .135
                          M 
024A   30D3               M                 movlw           .256-(.135/3)
024B   00F2               M                 movwf           DELAY
024C   0FF2               M                 incfsz          DELAY,F
024D   2A4C               M                 goto            $-0x01
                          M 
                      01033 
                      01034         ;Segunda linha - H2
                      01035         ;P1.1
                      01036         ;Pulso de sincronismo com 4.8uS=>24ciclos
024E   1186           01037         bcf                     sincronismo
                      01038         NOPS            .25
                          M 
024F   30F8               M                 movlw           .256-(.25/3)
0250   00F2               M                 movwf           DELAY
0251   0FF2               M                 incfsz          DELAY,F
0252   2A51               M                 goto            $-0x01
                          M 
                      01039         
                      01040         ;P2.1
                      01041         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01042         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01043         ;fazer alguma coisa nesse tempo livre.
0253   1586           01044         bsf                     sincronismo
                      01045         NOPS            .135
                          M 
0254   30D3               M                 movlw           .256-(.135/3)
0255   00F2               M                 movwf           DELAY
0256   0FF2               M                 incfsz          DELAY,F
0257   2A56               M                 goto            $-0x01
                          M 
                      01046 
                      01047         ;P1.2
                      01048         ;Pulso de sincronismo com 4.8uS=>24ciclos
0258   1186           01049         bcf                     sincronismo
                      01050         NOPS            .25
                          M 
0259   30F8               M                 movlw           .256-(.25/3)
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

025A   00F2               M                 movwf           DELAY
025B   0FF2               M                 incfsz          DELAY,F
025C   2A5B               M                 goto            $-0x01
                          M 
                      01051         
                      01052         ;P2.2
                      01053         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01054         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01055         ;fazer alguma coisa nesse tempo livre.
025D   1586           01056         bsf                     sincronismo
                      01057         NOPS            .135
                          M 
025E   30D3               M                 movlw           .256-(.135/3)
025F   00F2               M                 movwf           DELAY
0260   0FF2               M                 incfsz          DELAY,F
0261   2A60               M                 goto            $-0x01
                          M 
                      01058 
                      01059         ;Terceira linha - H3
                      01060         ;P1.1
                      01061         ;Pulso de sincronismo com 4.8uS=>24ciclos
0262   1186           01062         bcf                     sincronismo
                      01063         NOPS            .25
                          M 
0263   30F8               M                 movlw           .256-(.25/3)
0264   00F2               M                 movwf           DELAY
0265   0FF2               M                 incfsz          DELAY,F
0266   2A65               M                 goto            $-0x01
                          M 
                      01064         
                      01065         ;P2.1
                      01066         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01067         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01068         ;fazer alguma coisa nesse tempo livre.
0267   1586           01069         bsf                     sincronismo
                      01070         NOPS            .135
                          M 
0268   30D3               M                 movlw           .256-(.135/3)
0269   00F2               M                 movwf           DELAY
026A   0FF2               M                 incfsz          DELAY,F
026B   2A6A               M                 goto            $-0x01
                          M 
                      01071 
                      01072         ;P1.2
                      01073         ;Pulso de sincronismo com 4.8uS=>24ciclos
026C   1186           01074         bcf                     sincronismo
                      01075         NOPS            .25
                          M 
026D   30F8               M                 movlw           .256-(.25/3)
026E   00F2               M                 movwf           DELAY
026F   0FF2               M                 incfsz          DELAY,F
0270   2A6F               M                 goto            $-0x01
                          M 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01076         
                      01077         ;P2.2
                      01078         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01079         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01080         ;fazer alguma coisa nesse tempo livre.
0271   1586           01081         bsf                     sincronismo
                      01082         NOPS            .135
                          M 
0272   30D3               M                 movlw           .256-(.135/3)
0273   00F2               M                 movwf           DELAY
0274   0FF2               M                 incfsz          DELAY,F
0275   2A74               M                 goto            $-0x01
                          M 
                      01083 ;FIM DA PRIMEIRA EQUALIZACAO
                      01084 
                      01085 
                      01086 
                      01087 ;SINCRONISMO
                      01088 ;Sao tres linhas com seis pulsos de sincronizacao, mas invertidos
                      01089 
                      01090         ;Primeira linha - H4
                      01091         ;P1.1
                      01092         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01093         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01094         ;fazer alguma coisa nesse tempo livre.
0276   1186           01095         bcf                     sincronismo
                      01096         NOPS            .135
                          M 
0277   30D3               M                 movlw           .256-(.135/3)
0278   00F2               M                 movwf           DELAY
0279   0FF2               M                 incfsz          DELAY,F
027A   2A79               M                 goto            $-0x01
                          M 
                      01097 
                      01098         ;P2.1
                      01099         ;Pulso de sincronismo com 4.8uS=>24ciclos
027B   1586           01100         bsf                     sincronismo
                      01101         NOPS            .25
                          M 
027C   30F8               M                 movlw           .256-(.25/3)
027D   00F2               M                 movwf           DELAY
027E   0FF2               M                 incfsz          DELAY,F
027F   2A7E               M                 goto            $-0x01
                          M 
                      01102         
                      01103         ;P1.2
                      01104         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01105         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01106         ;fazer alguma coisa nesse tempo livre.
0280   1186           01107         bcf                     sincronismo
                      01108         NOPS            .135
                          M 
0281   30D3               M                 movlw           .256-(.135/3)
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0282   00F2               M                 movwf           DELAY
0283   0FF2               M                 incfsz          DELAY,F
0284   2A83               M                 goto            $-0x01
                          M 
                      01109 
                      01110         ;P2.2
                      01111         ;Pulso de sincronismo com 4.8uS=>24ciclos
0285   1586           01112         bsf                     sincronismo
                      01113         NOPS            .25
                          M 
0286   30F8               M                 movlw           .256-(.25/3)
0287   00F2               M                 movwf           DELAY
0288   0FF2               M                 incfsz          DELAY,F
0289   2A88               M                 goto            $-0x01
                          M 
                      01114 
                      01115         ;Segunda linha - H5
                      01116         ;P1.1
                      01117         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01118         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01119         ;fazer alguma coisa nesse tempo livre.
028A   1186           01120         bcf                     sincronismo
                      01121         NOPS            .135
                          M 
028B   30D3               M                 movlw           .256-(.135/3)
028C   00F2               M                 movwf           DELAY
028D   0FF2               M                 incfsz          DELAY,F
028E   2A8D               M                 goto            $-0x01
                          M 
                      01122 
                      01123         ;P2.1
                      01124         ;Pulso de sincronismo com 4.8uS=>24ciclos
028F   1586           01125         bsf                     sincronismo
                      01126         NOPS            .25
                          M 
0290   30F8               M                 movlw           .256-(.25/3)
0291   00F2               M                 movwf           DELAY
0292   0FF2               M                 incfsz          DELAY,F
0293   2A92               M                 goto            $-0x01
                          M 
                      01127         
                      01128         ;P1.2
                      01129         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01130         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01131         ;fazer alguma coisa nesse tempo livre.
0294   1186           01132         bcf                     sincronismo
                      01133         NOPS            .135
                          M 
0295   30D3               M                 movlw           .256-(.135/3)
0296   00F2               M                 movwf           DELAY
0297   0FF2               M                 incfsz          DELAY,F
0298   2A97               M                 goto            $-0x01
                          M 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01134 
                      01135         ;P2.2
                      01136         ;Pulso de sincronismo com 4.8uS=>24ciclos
0299   1586           01137         bsf                     sincronismo
                      01138         NOPS            .25
                          M 
029A   30F8               M                 movlw           .256-(.25/3)
029B   00F2               M                 movwf           DELAY
029C   0FF2               M                 incfsz          DELAY,F
029D   2A9C               M                 goto            $-0x01
                          M 
                      01139 
                      01140         ;Terceira linha - H6
                      01141         ;P1.1
                      01142         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01143         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01144         ;fazer alguma coisa nesse tempo livre.
029E   1186           01145         bcf                     sincronismo
                      01146         NOPS            .135
                          M 
029F   30D3               M                 movlw           .256-(.135/3)
02A0   00F2               M                 movwf           DELAY
02A1   0FF2               M                 incfsz          DELAY,F
02A2   2AA1               M                 goto            $-0x01
                          M 
                      01147 
                      01148         ;P2.1
                      01149         ;Pulso de sincronismo com 4.8uS=>24ciclos
02A3   1586           01150         bsf                     sincronismo
                      01151         NOPS            .25
                          M 
02A4   30F8               M                 movlw           .256-(.25/3)
02A5   00F2               M                 movwf           DELAY
02A6   0FF2               M                 incfsz          DELAY,F
02A7   2AA6               M                 goto            $-0x01
                          M 
                      01152         
                      01153         ;P1.2
                      01154         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01155         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01156         ;fazer alguma coisa nesse tempo livre.
02A8   1186           01157         bcf                     sincronismo
                      01158         NOPS            .135
                          M 
02A9   30D3               M                 movlw           .256-(.135/3)
02AA   00F2               M                 movwf           DELAY
02AB   0FF2               M                 incfsz          DELAY,F
02AC   2AAB               M                 goto            $-0x01
                          M 
                      01159 
                      01160         ;P2.2
                      01161         ;Pulso de sincronismo com 4.8uS=>24ciclos
02AD   1586           01162         bsf                     sincronismo
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01163         NOPS            .25
                          M 
02AE   30F8               M                 movlw           .256-(.25/3)
02AF   00F2               M                 movwf           DELAY
02B0   0FF2               M                 incfsz          DELAY,F
02B1   2AB0               M                 goto            $-0x01
                          M 
                      01164 ;FIM DO SINCRONISMO
                      01165 
                      01166 ;SEGUNDA EQUALIZACAO
                      01167 ;Sao tres linhas com seis pulsos de sincronizacao
                      01168 
                      01169         ;Primeira linha - H7
                      01170         ;P1.1
                      01171         ;Pulso de sincronismo com 4.8uS=>24ciclos
02B2   1186           01172         bcf                     sincronismo
                      01173         NOPS            .25
                          M 
02B3   30F8               M                 movlw           .256-(.25/3)
02B4   00F2               M                 movwf           DELAY
02B5   0FF2               M                 incfsz          DELAY,F
02B6   2AB5               M                 goto            $-0x01
                          M 
                      01174         
                      01175         ;P2.1
                      01176         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01177         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01178         ;fazer alguma coisa nesse tempo livre.
02B7   1586           01179         bsf                     sincronismo
                      01180         NOPS            .135
                          M 
02B8   30D3               M                 movlw           .256-(.135/3)
02B9   00F2               M                 movwf           DELAY
02BA   0FF2               M                 incfsz          DELAY,F
02BB   2ABA               M                 goto            $-0x01
                          M 
                      01181 
                      01182         ;P1.2
                      01183         ;Pulso de sincronismo com 4.8uS=>24ciclos
02BC   1186           01184         bcf                     sincronismo
                      01185         NOPS            .25
                          M 
02BD   30F8               M                 movlw           .256-(.25/3)
02BE   00F2               M                 movwf           DELAY
02BF   0FF2               M                 incfsz          DELAY,F
02C0   2ABF               M                 goto            $-0x01
                          M 
                      01186         
                      01187         ;P2.2
                      01188         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01189         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01190         ;fazer alguma coisa nesse tempo livre.
02C1   1586           01191         bsf                     sincronismo
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01192         NOPS            .135
                          M 
02C2   30D3               M                 movlw           .256-(.135/3)
02C3   00F2               M                 movwf           DELAY
02C4   0FF2               M                 incfsz          DELAY,F
02C5   2AC4               M                 goto            $-0x01
                          M 
                      01193 
                      01194         ;Segunda linha - H8
                      01195         ;P1.1
                      01196         ;Pulso de sincronismo com 4.8uS=>24ciclos
02C6   1186           01197         bcf                     sincronismo
                      01198         NOPS            .25
                          M 
02C7   30F8               M                 movlw           .256-(.25/3)
02C8   00F2               M                 movwf           DELAY
02C9   0FF2               M                 incfsz          DELAY,F
02CA   2AC9               M                 goto            $-0x01
                          M 
                      01199         
                      01200         ;P2.1
                      01201         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01202         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01203         ;fazer alguma coisa nesse tempo livre.
02CB   1586           01204         bsf                     sincronismo
                      01205         NOPS            .135
                          M 
02CC   30D3               M                 movlw           .256-(.135/3)
02CD   00F2               M                 movwf           DELAY
02CE   0FF2               M                 incfsz          DELAY,F
02CF   2ACE               M                 goto            $-0x01
                          M 
                      01206 
                      01207         ;P1.2
                      01208         ;Pulso de sincronismo com 4.8uS=>24ciclos
02D0   1186           01209         bcf                     sincronismo
                      01210         NOPS            .25
                          M 
02D1   30F8               M                 movlw           .256-(.25/3)
02D2   00F2               M                 movwf           DELAY
02D3   0FF2               M                 incfsz          DELAY,F
02D4   2AD3               M                 goto            $-0x01
                          M 
                      01211         
                      01212         ;P2.2
                      01213         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01214         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01215         ;fazer alguma coisa nesse tempo livre.
02D5   1586           01216         bsf                     sincronismo
                      01217         NOPS            .135
                          M 
02D6   30D3               M                 movlw           .256-(.135/3)
02D7   00F2               M                 movwf           DELAY
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02D8   0FF2               M                 incfsz          DELAY,F
02D9   2AD8               M                 goto            $-0x01
                          M 
                      01218 
                      01219         ;Terceira linha - H9
                      01220         ;P1.1
                      01221         ;Pulso de sincronismo com 4.8uS=>24ciclos
02DA   1186           01222         bcf                     sincronismo
                      01223         NOPS            .25
                          M 
02DB   30F8               M                 movlw           .256-(.25/3)
02DC   00F2               M                 movwf           DELAY
02DD   0FF2               M                 incfsz          DELAY,F
02DE   2ADD               M                 goto            $-0x01
                          M 
                      01224         
                      01225         ;P2.1
                      01226         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01227         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01228         ;fazer alguma coisa nesse tempo livre.
02DF   1586           01229         bsf                     sincronismo
                      01230         NOPS            .135
                          M 
02E0   30D3               M                 movlw           .256-(.135/3)
02E1   00F2               M                 movwf           DELAY
02E2   0FF2               M                 incfsz          DELAY,F
02E3   2AE2               M                 goto            $-0x01
                          M 
                      01231 
                      01232         ;P1.2
                      01233         ;Pulso de sincronismo com 4.8uS=>24ciclos
02E4   1186           01234         bcf                     sincronismo
                      01235         NOPS            .25
                          M 
02E5   30F8               M                 movlw           .256-(.25/3)
02E6   00F2               M                 movwf           DELAY
02E7   0FF2               M                 incfsz          DELAY,F
02E8   2AE7               M                 goto            $-0x01
                          M 
                      01236         
                      01237         ;P2.2
                      01238         ;Pulso nivel de preto com 26.95uS=>135ciclos
                      01239         ;Como esse pulso eh bem demorado, posso aproveitar pra
                      01240         ;fazer alguma coisa nesse tempo livre.
02E9   1586           01241         bsf                     sincronismo
                      01242         NOPS            .120                            ;135 - 15(abaixo) = 120
                          M 
02EA   30D8               M                 movlw           .256-(.120/3)
02EB   00F2               M                 movwf           DELAY
02EC   0FF2               M                 incfsz          DELAY,F
02ED   2AEC               M                 goto            $-0x01
                          M 
                      01243 ;FIM DA SEGUNDA EQUALIZACAO
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01244 
02EE   10F4           01245         bcf                     SINC_V                          ;Limpa a chave da interrupcao horizontal
                      01246         ;Num primeiro momento vou fazer todo o campo par com nivel de preto
                      01247         ;ou seja, 12 linhas do final do sincronismo + 242 = 254 linhas
                      01248 
02EF   1974           01249         btfsc           ODD
02F0   2AF2           01250         goto            PAR
02F1   2AF6           01251         goto            IMPAR
                      01252 
02F2                  01253 PAR
02F2   1174           01254         bcf                     ODD
02F3   3002           01255         movlw           .2                                      ;Normalmente eh com 14, mas agora quero
02F4   00F3           01256         movwf           CONT_VERT                       ;contar tambem as linhas de retraco vertical
02F5   2AFA           01257         goto            CONTINUA_SINC_VERT
                      01258 
02F6                  01259 IMPAR
02F6   1574           01260         bsf                     ODD
02F7   300E           01261         movlw           .14                                     
02F8   00F3           01262         movwf           CONT_VERT                       
02F9   0000           01263         nop                                                             ;Para mante-los simetricos
                      01264 
02FA                  01265 CONTINUA_SINC_VERT
                      01266 
                      01267         ;Como a sincronizacao eh muito grande, o TMR0 deve ter estourado e 
                      01268         ;com isso setado o T0IF. Portanto, assim que eu religar a interrupcao
                      01269         ;ele vai pular para 0x04.
02FA   306B           01270         movlw           INIC_TMR0+5
02FB   0081           01271         movwf           TMR0                            ;Recarrega o TMR0
02FC   110B           01272         bcf                     INTCON,T0IF                     ;Limpa o bit que foi setado pelo estouro
                             do TMR0
02FD   168B           01273         bsf                     INTCON,T0IE                     ;Habilita a interrupção do TMR0
                      01274                                                                         ;para que ele nao estoure no mei
                            o de V_SINC
                      01275 
02FE   11F4           01276         bcf                     TELA                            ;Para que soh seja desenhado algo depois
                             da interrupcao
02FF   28E8           01277         goto            SEM_SINC_H
                      01278 
                      01279 
                      01280 
                      01281 ;##############################################################################
                      01282 ;    IMAGEM INICIAL QUE APARECERA NA TELA ASSIM QUE O SISTEMA FOR LIGADO
                      01283 ;##############################################################################
                      01284 ;Nao esquecer que os bits sao lidos do LSB -> MSB. Ex. 'abcdefgh'
                      01285 ;sera escrito na tela como: hgfedcba
                      01286 ;Se sobrar tempo vou alterar isso, ficou muito chato pra desenhar os caracteres.
0300                  01287 SPLASHWINDOW
                      01288 
0300   17F4           01289         bsf             SPLASH                          ;Indica que ocorreu uma SplashWindow.
                      01290 
                      01291 ;LEMBRAR QUE A MEMÓRIA DISPONÍVEL PARA AS IMAGENS VAI DE:
                      01292 ;0x26
                      01293 ;até
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01294 ;0x6F
                      01295 ;Depois o que for gravado irá sobrepor as variáveis do sistema.
                      01296         
                      01297 
  0000                01298         VARIABLE   LINE=0
                      01299 
                      01300         ;INICIA COM TUDO ZERO PARA NAO OCORRER DISTORCOES EM ALGUNS
                      01301         ;TIPOS DE APARELHOS DE TELEVISAO.
                      01302         ;Outro motivo para a distorcao eh que fui obrigado a inserir codigos
                      01303         ;extras no meio dos sincronismos (que não estavam previstos qnd comecei), 
                      01304         ;mas esses codigos soh sao executados na primeira linha (bits) lida da memória.
0301   3000           01305         movlw           B'00000000'     
0302   00A6           01306         movwf           END_INIC_VIDEO + .0
0303   00A7           01307         movwf           END_INIC_VIDEO + .1
0304   00A8           01308         movwf           END_INIC_VIDEO + .2
0305   00A9           01309         movwf           END_INIC_VIDEO + .3
0306   00AA           01310         movwf           END_INIC_VIDEO + .4
0307   00AB           01311         movwf           END_INIC_VIDEO + .5
                      01312         ;6 bytes (nao devem ser modificados)
                      01313 
                      01314 
  00000006            01315         LINE=0x06
                      01316         ;linha 1/5
0308   30FF           01317         movlw           B'11111111'     
0309   00AC           01318         movwf           END_INIC_VIDEO + LINE + .0
030A   30FF           01319         movlw           B'11111111'     
030B   00AD           01320         movwf           END_INIC_VIDEO + LINE + .1
030C   30FF           01321         movlw           B'11111111'             
030D   00AE           01322         movwf           END_INIC_VIDEO + LINE + .2
030E   30FF           01323         movlw           B'11111111'
030F   00AF           01324         movwf           END_INIC_VIDEO + LINE + .3
0310   30FF           01325         movlw           B'11111111'
0311   00B0           01326         movwf           END_INIC_VIDEO + LINE + .4
0312   301F           01327         movlw           B'00011111'
0313   00B1           01328         movwf           END_INIC_VIDEO + LINE + .5
                      01329         ;linha 2/5
0314   3001           01330         movlw           B'00000001'
0315   00B2           01331         movwf           END_INIC_VIDEO + LINE + .6
0316   3000           01332         movlw           B'00000000'
0317   00B3           01333         movwf           END_INIC_VIDEO + LINE + .7
0318   3000           01334         movlw           B'00000000'             
0319   00B4           01335         movwf           END_INIC_VIDEO + LINE + .8
031A   3000           01336         movlw           B'00000000'
031B   00B5           01337         movwf           END_INIC_VIDEO + LINE + .9
031C   3000           01338         movlw           B'00000000'
031D   00B6           01339         movwf           END_INIC_VIDEO + LINE + .10
031E   3010           01340         movlw           B'00010000'
031F   00B7           01341         movwf           END_INIC_VIDEO + LINE + .11
                      01342 
                      01343         ;linha 3/5
0320   3001           01344         movlw           B'00000001'
0321   00B8           01345         movwf           END_INIC_VIDEO + LINE + .12
0322   3000           01346         movlw           B'00000000'
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0323   00B9           01347         movwf           END_INIC_VIDEO + LINE + .13
0324   3000           01348         movlw           B'00000000'             
0325   00BA           01349         movwf           END_INIC_VIDEO + LINE + .14
0326   3000           01350         movlw           B'00000000'
0327   00BB           01351         movwf           END_INIC_VIDEO + LINE + .15
0328   3000           01352         movlw           B'00000000'
0329   00BC           01353         movwf           END_INIC_VIDEO + LINE + .16
032A   3010           01354         movlw           B'00010000'
032B   00BD           01355         movwf           END_INIC_VIDEO + LINE + .17
                      01356 
                      01357         ;linha 4/5
032C   30B9           01358         movlw           B'10111001'
032D   00BE           01359         movwf           END_INIC_VIDEO + LINE + .18
032E   302B           01360         movlw           B'00101011'
032F   00BF           01361         movwf           END_INIC_VIDEO + LINE + .19
0330   3000           01362         movlw           B'00000000'             
0331   00C0           01363         movwf           END_INIC_VIDEO + LINE + .20
0332   3000           01364         movlw           B'00000000'
0333   00C1           01365         movwf           END_INIC_VIDEO + LINE + .21
0334   3000           01366         movlw           B'00000000'
0335   00C2           01367         movwf           END_INIC_VIDEO + LINE + .22
0336   3010           01368         movlw           B'00010000'
0337   00C3           01369         movwf           END_INIC_VIDEO + LINE + .23
                      01370 
                      01371         ;linha 5/5
0338   3091           01372         movlw           B'10010001'
0339   00C4           01373         movwf           END_INIC_VIDEO + LINE + .24
033A   30A8           01374         movlw           B'10101000'
033B   00C5           01375         movwf           END_INIC_VIDEO + LINE + .25
033C   306A           01376         movlw           B'01101010'             
033D   00C6           01377         movwf           END_INIC_VIDEO + LINE + .26
033E   3080           01378         movlw           B'10000000'
033F   00C7           01379         movwf           END_INIC_VIDEO + LINE + .27
0340   3012           01380         movlw           B'00010010'
0341   00C8           01381         movwf           END_INIC_VIDEO + LINE + .28
0342   3017           01382         movlw           B'00010111'
0343   00C9           01383         movwf           END_INIC_VIDEO + LINE + .29
                      01384         ;30 bytes
                      01385 
                      01386         ;TUDO ZERO
0344   3091           01387         movlw           B'10010001'
0345   00CA           01388         movwf           END_INIC_VIDEO + LINE + .30
0346   3091           01389         movlw           B'10010001'
0347   00CB           01390         movwf           END_INIC_VIDEO + LINE + .31
0348   30A2           01391         movlw           B'10100010'     
0349   00CC           01392         movwf           END_INIC_VIDEO + LINE + .32
034A   3080           01393         movlw           B'10000000'
034B   00CD           01394         movwf           END_INIC_VIDEO + LINE + .33
034C   301A           01395         movlw           B'00011010'
034D   00CE           01396         movwf           END_INIC_VIDEO + LINE + .34
034E   3015           01397         movlw           B'00010101'
034F   00CF           01398         movwf           END_INIC_VIDEO + LINE + .35
                      01399         ;6 bytes (nao devem ser modificados)
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01400 
                      01401 
                      01402         ;
                      01403         ;LINHA 2
                      01404         ;
  0000002A            01405         LINE=LINE+0x1E+0x06
                      01406         ;linha 1/5
0350   3091           01407         movlw           B'10010001'     
0351   00D0           01408         movwf           END_INIC_VIDEO + LINE + .0
0352   30A8           01409         movlw           B'10101000'     
0353   00D1           01410         movwf           END_INIC_VIDEO + LINE + .1
0354   30AA           01411         movlw           B'10101010'             
0355   00D2           01412         movwf           END_INIC_VIDEO + LINE + .2
0356   3080           01413         movlw           B'10000000'
0357   00D3           01414         movwf           END_INIC_VIDEO + LINE + .3
0358   3012           01415         movlw           B'00010010'
0359   00D4           01416         movwf           END_INIC_VIDEO + LINE + .4
035A   3015           01417         movlw           B'00010101'
035B   00D5           01418         movwf           END_INIC_VIDEO + LINE + .5
                      01419         ;linha 2/5
035C   3091           01420         movlw           B'10010001'     
035D   00D6           01421         movwf           END_INIC_VIDEO + LINE + .6
035E   302B           01422         movlw           B'00101011'     
035F   00D7           01423         movwf           END_INIC_VIDEO + LINE + .7
0360   3069           01424         movlw           B'01101001'             
0361   00D8           01425         movwf           END_INIC_VIDEO + LINE + .8
0362   3000           01426         movlw           B'00000000'
0363   00D9           01427         movwf           END_INIC_VIDEO + LINE + .9
0364   3051           01428         movlw           B'01010001'
0365   00DA           01429         movwf           END_INIC_VIDEO + LINE + .10
0366   3017           01430         movlw           B'00010111'
0367   00DB           01431         movwf           END_INIC_VIDEO + LINE + .11
                      01432         ;linha 3/5
0368   3001           01433         movlw           B'00000001'     
0369   00DC           01434         movwf           END_INIC_VIDEO + LINE + .12
036A   3000           01435         movlw           B'00000000'     
036B   00DD           01436         movwf           END_INIC_VIDEO + LINE + .13
036C   3000           01437         movlw           B'00000000'             
036D   00DE           01438         movwf           END_INIC_VIDEO + LINE + .14
036E   3000           01439         movlw           B'00000000'
036F   00DF           01440         movwf           END_INIC_VIDEO + LINE + .15
0370   3000           01441         movlw           B'00000000'
0371   00E0           01442         movwf           END_INIC_VIDEO + LINE + .16
0372   3010           01443         movlw           B'00010000'
0373   00E1           01444         movwf           END_INIC_VIDEO + LINE + .17
                      01445 
                      01446         ;linha 4/5
0374   3001           01447         movlw           B'00000001'     
0375   00E2           01448         movwf           END_INIC_VIDEO + LINE + .18
0376   3000           01449         movlw           B'00000000'     
0377   00E3           01450         movwf           END_INIC_VIDEO + LINE + .19
0378   3000           01451         movlw           B'00000000'             
0379   00E4           01452         movwf           END_INIC_VIDEO + LINE + .20
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

037A   3000           01453         movlw           B'00000000'
037B   00E5           01454         movwf           END_INIC_VIDEO + LINE + .21
037C   3000           01455         movlw           B'00000000'
037D   00E6           01456         movwf           END_INIC_VIDEO + LINE + .22
037E   3010           01457         movlw           B'00010000'
037F   00E7           01458         movwf           END_INIC_VIDEO + LINE + .23
                      01459 
                      01460         ;linha 5/5
0380   30FF           01461         movlw           B'11111111'     
0381   00E8           01462         movwf           END_INIC_VIDEO + LINE + .24
0382   30FF           01463         movlw           B'11111111'     
0383   00E9           01464         movwf           END_INIC_VIDEO + LINE + .25
0384   30FF           01465         movlw           B'11111111'             
0385   00EA           01466         movwf           END_INIC_VIDEO + LINE + .26
0386   30FF           01467         movlw           B'11111111'     
0387   00EB           01468         movwf           END_INIC_VIDEO + LINE + .27
0388   30FF           01469         movlw           B'11111111'     
0389   00EC           01470         movwf           END_INIC_VIDEO + LINE + .28
038A   301F           01471         movlw           B'00011111'     
038B   00ED           01472         movwf           END_INIC_VIDEO + LINE + .29
                      01473         ;30 bytes
                      01474 
                      01475         ;Memoria total consumida: 6 + 30 + 6 + 30 = 72 bytes
                      01476         ;Considerando os 6 bytes usados pela funcao SAIDABIT, ficam 78 bytes.
038C   0008           01477         return
                      01478 
                      01479 ;###############################################################################
                      01480 ;                                LIMPA A TELA
                      01481 ;###############################################################################
038D                  01482 LIMPAWINDOW
                      01483 
038D   13F4           01484         bcf             SPLASH                          ;Indica que ocorreu uma SplashWindow.
                      01485 
                      01486 ;LEMBRAR QUE A MEMÓRIA DISPONÍVEL PARA AS IMAGENS VAI DE:
                      01487 ;0x26
                      01488 ;até
                      01489 ;0x6F
                      01490 ;Depois o que for gravado irá sobrepor as variáveis do sistema.
  0000                01491         VARIABLE   LINE=0
                      01492 
                      01493         ;INICIA COM TUDO ZERO PARA NAO OCORRER DISTORCOES EM ALGUNS
                      01494         ;TIPOS DE APARELHOS DE TELEVISAO.
                      01495         ;Outro motivo para a distorcao eh que fui obrigado a inserir codigos
                      01496         ;extras no meio dos sincronismos (que não estavam previstos qnd comecei), 
                      01497         ;mas esses codigos soh sao executados na primeira linha (bits) lida da memória.
038E   3000           01498         movlw           B'00000000'     
038F   00A6           01499         movwf           END_INIC_VIDEO + .0
0390   00A7           01500         movwf           END_INIC_VIDEO + .1
0391   00A8           01501         movwf           END_INIC_VIDEO + .2
0392   00A9           01502         movwf           END_INIC_VIDEO + .3
0393   00AA           01503         movwf           END_INIC_VIDEO + .4
0394   00AB           01504         movwf           END_INIC_VIDEO + .5
                      01505         ;6 bytes (nao devem ser modificados)
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000006            01506         LINE=0x06
                      01507         ;linha 1/5
0395   00AC           01508         movwf           END_INIC_VIDEO + LINE + .0
0396   00AD           01509         movwf           END_INIC_VIDEO + LINE + .1
0397   00AE           01510         movwf           END_INIC_VIDEO + LINE + .2
0398   00AF           01511         movwf           END_INIC_VIDEO + LINE + .3
0399   00B0           01512         movwf           END_INIC_VIDEO + LINE + .4
039A   00B1           01513         movwf           END_INIC_VIDEO + LINE + .5
                      01514         ;linha 2/5
039B   00B2           01515         movwf           END_INIC_VIDEO + LINE + .6
039C   00B3           01516         movwf           END_INIC_VIDEO + LINE + .7
039D   00B4           01517         movwf           END_INIC_VIDEO + LINE + .8
039E   00B5           01518         movwf           END_INIC_VIDEO + LINE + .9
039F   00B6           01519         movwf           END_INIC_VIDEO + LINE + .10
03A0   00B7           01520         movwf           END_INIC_VIDEO + LINE + .11
                      01521         ;linha 3/5
03A1   00B8           01522         movwf           END_INIC_VIDEO + LINE + .12
03A2   00B9           01523         movwf           END_INIC_VIDEO + LINE + .13
03A3   00BA           01524         movwf           END_INIC_VIDEO + LINE + .14
03A4   00BB           01525         movwf           END_INIC_VIDEO + LINE + .15
03A5   00BC           01526         movwf           END_INIC_VIDEO + LINE + .16
03A6   00BD           01527         movwf           END_INIC_VIDEO + LINE + .17
                      01528         ;linha 4/5
03A7   00BE           01529         movwf           END_INIC_VIDEO + LINE + .18
03A8   00BF           01530         movwf           END_INIC_VIDEO + LINE + .19
03A9   00C0           01531         movwf           END_INIC_VIDEO + LINE + .20
03AA   00C1           01532         movwf           END_INIC_VIDEO + LINE + .21
03AB   00C2           01533         movwf           END_INIC_VIDEO + LINE + .22
03AC   00C3           01534         movwf           END_INIC_VIDEO + LINE + .23
                      01535         ;linha 5/5
03AD   00C4           01536         movwf           END_INIC_VIDEO + LINE + .24
03AE   00C5           01537         movwf           END_INIC_VIDEO + LINE + .25
03AF   00C6           01538         movwf           END_INIC_VIDEO + LINE + .26
03B0   00C7           01539         movwf           END_INIC_VIDEO + LINE + .27
03B1   00C8           01540         movwf           END_INIC_VIDEO + LINE + .28
03B2   00C9           01541         movwf           END_INIC_VIDEO + LINE + .29
                      01542         ;30 bytes
                      01543         ;TUDO ZERO
03B3   00CA           01544         movwf           END_INIC_VIDEO + LINE + .30
03B4   00CB           01545         movwf           END_INIC_VIDEO + LINE + .31
03B5   00CC           01546         movwf           END_INIC_VIDEO + LINE + .32
03B6   00CD           01547         movwf           END_INIC_VIDEO + LINE + .33
03B7   00CE           01548         movwf           END_INIC_VIDEO + LINE + .34
03B8   00CF           01549         movwf           END_INIC_VIDEO + LINE + .35
                      01550         ;6 bytes (nao devem ser modificados)
                      01551         ;
                      01552         ;LINHA 2
                      01553         ;
  0000002A            01554         LINE=LINE+0x1E+0x06
                      01555         ;linha 1/5
03B9   00D0           01556         movwf           END_INIC_VIDEO + LINE + .0
03BA   00D1           01557         movwf           END_INIC_VIDEO + LINE + .1
03BB   00D2           01558         movwf           END_INIC_VIDEO + LINE + .2
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03BC   00D3           01559         movwf           END_INIC_VIDEO + LINE + .3
03BD   00D4           01560         movwf           END_INIC_VIDEO + LINE + .4
03BE   00D5           01561         movwf           END_INIC_VIDEO + LINE + .5
                      01562         ;linha 2/5
03BF   00D6           01563         movwf           END_INIC_VIDEO + LINE + .6
03C0   00D7           01564         movwf           END_INIC_VIDEO + LINE + .7
03C1   00D8           01565         movwf           END_INIC_VIDEO + LINE + .8
03C2   00D9           01566         movwf           END_INIC_VIDEO + LINE + .9
03C3   00DA           01567         movwf           END_INIC_VIDEO + LINE + .10
03C4   00DB           01568         movwf           END_INIC_VIDEO + LINE + .11
                      01569         ;linha 3/5
03C5   00DC           01570         movwf           END_INIC_VIDEO + LINE + .12
03C6   00DD           01571         movwf           END_INIC_VIDEO + LINE + .13
03C7   00DE           01572         movwf           END_INIC_VIDEO + LINE + .14
03C8   00DF           01573         movwf           END_INIC_VIDEO + LINE + .15
03C9   00E0           01574         movwf           END_INIC_VIDEO + LINE + .16
03CA   00E1           01575         movwf           END_INIC_VIDEO + LINE + .17
                      01576         ;linha 4/5
03CB   00E2           01577         movwf           END_INIC_VIDEO + LINE + .18
03CC   00E3           01578         movwf           END_INIC_VIDEO + LINE + .19
03CD   00E4           01579         movwf           END_INIC_VIDEO + LINE + .20
03CE   00E5           01580         movwf           END_INIC_VIDEO + LINE + .21
03CF   00E6           01581         movwf           END_INIC_VIDEO + LINE + .22
03D0   00E7           01582         movwf           END_INIC_VIDEO + LINE + .23
                      01583         ;linha 5/5
03D1   00E8           01584         movwf           END_INIC_VIDEO + LINE + .24
03D2   00E9           01585         movwf           END_INIC_VIDEO + LINE + .25
03D3   00EA           01586         movwf           END_INIC_VIDEO + LINE + .26
03D4   00EB           01587         movwf           END_INIC_VIDEO + LINE + .27
03D5   00EC           01588         movwf           END_INIC_VIDEO + LINE + .28
03D6   00ED           01589         movwf           END_INIC_VIDEO + LINE + .29
                      01590         ;30 bytes
                      01591         ;Memoria total consumida: 6 + 30 + 6 + 30 = 72 bytes
                      01592         ;Considerando os 6 bytes usados pela funcao SAIDABIT, ficam 78 bytes.
03D7   0008           01593         return
                      01594 
                      01595 
                      01596 
                      01597 ;##############################################################################
                      01598 ; EXECUTA OS COMANDOS RECEBIDOS PELA SERIAL E QUE FORAM ARMAZENADOS NO BUFFER
                      01599 ;##############################################################################
                      01600 ;
                      01601 ;O buffer de comandos (0xA0...0xAB) poderá ter uma das seguintes possibilidades:
                      01602 ;(vou utilizar os caracteres ( ) para separar os bytes - ou ASCII)
                      01603 ;                1  2345...12
                      01604 ;Primeiro caso: (1)(onze caracteres quaisquer) ->coloca os caracteres na linha de texto 1.
                      01605 ;Segundo caso : (2)(onze caracteres quaisquer) ->coloca os caracteres na linha de texto 2.
                      01606 ;Terceiro caso: ($)(qualquer coisa) ->entra no modo demonstração com splashwindow.
                      01607 ;Quarto caso  : (&)(byte indicando o numero da linha gráfica-0x00 até 0x0B)(6bytes,mas só 45bits) ->modo
                             gráfico.
                      01608 ;Quinto caso  : (R)(qualquer coisa) ->inicializa o sistema.
03D8                  01609 EXECUTA_COMANDOS
                      01610 ;########### APÓS EXECUTAR OS COMANDOS NÃO POSSO ESQUECER DE VOLTAR PRO SEM_SINC_H!!!!!
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01611 
03D8   1EF4           01612         btfss           EXECUTA                         ;Testa se devo executar os comandos.
03D9   28E8           01613         goto            SEM_SINC_H                      ;Caso não precise executar nada, segue adiante.
                      01614 
03DA   130B           01615         bcf                     INTCON, PEIE            ;Desabilita as interrupções dos periféricos.
03DB   128B           01616         bcf                     INTCON,T0IE                     ;Desabilita a interrupção do TMR0
                      01617                                                                         ;Essas interrupções devem ser ha
                            bilitadas no final.
                      01618 
03DC   01FE           01619         clrf            CONT_BUFFER2            ;Limpa o contador usado no índice das letras na linha.
03DD   1374           01620         bcf                     MEIOBYTE                        ;Limpa o MEIOBYTE para iniciar sempre no
                             LSB.
                      01621 
03DE   1BF4           01622         btfsc           SPLASH                          ;Teste se ocorreu uma SplashWindow.
03DF   238D           01623         call            LIMPAWINDOW                     ;Caso tenha ocorrido, limpa a janela
                      01624 
03E0   30A0           01625         movlw           END_INIC_CMDS           ;Carrega o endereço do primeiro caractere do buffer de c
                            omandos
03E1   0084           01626         movwf           FSR                                     ;no FSR para poder utilizar diretamente 
                            o INDF.
                      01627 
03E2   0800           01628         movfw           INDF                            ;Carrego o primeiro caractere do buffer no W.
                      01629         
                      01630 
                      01631 
                      01632         ;Teste para verificar qual o primeiro caractere
03E3   1103           01633         bcf                     STATUS,2                        ;Limpa o Z.
03E4   3A31           01634         xorlw           UM                                      ;Codigo ASCII para o '1'.
03E5   1903           01635         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
03E6   2BFF           01636         goto            ESCREVE_NA_L1           ;Se o Z foi para 1, vou escrever na linha 1.
03E7   3A31           01637         xorlw           UM                                      ;Restaura o W.
                      01638 
                      01639 
                      01640         ;Teste para verificar qual o primeiro caractere
03E8   1103           01641         bcf                     STATUS,2                        ;Limpa o Z.
03E9   3A32           01642         xorlw           DO                                      ;Codigo ASCII para o '2'.
03EA   1903           01643         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
03EB   2C02           01644         goto            ESCREVE_NA_L2           ;Se o Z foi para 1, vou escrever na linha 2.
03EC   3A32           01645         xorlw           DO                                      ;Restaura o W.
                      01646         
                      01647         ;Teste para verificar qual o primeiro caractere
03ED   1103           01648         bcf                     STATUS,2                        ;Limpa o Z.
03EE   3A24           01649         xorlw           DOLAR                           ;Codigo ASCII para o '$'.
03EF   1903           01650         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
03F0   2BFC           01651         goto            DEMONSTRACAO            ;Se o Z foi para 1, Modo Demonstração.
03F1   3A24           01652         xorlw           DOLAR                           ;Restaura o W.
                      01653 
                      01654         ;Teste para verificar qual o primeiro caractere
03F2   1103           01655         bcf                     STATUS,2                        ;Limpa o Z.
03F3   3A26           01656         xorlw           ECOMER                          ;Codigo ASCII para o '&'.
03F4   1903           01657         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
03F5   2BFE           01658         goto            MODOGRAFICO                     ;Se o Z foi para 1, Modo Gráfico.
03F6   3A26           01659         xorlw           ECOMER                          ;Restaura o W.
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01660 
                      01661         ;Teste para verificar qual o primeiro caractere
03F7   1103           01662         bcf                     STATUS,2                        ;Limpa o Z.
03F8   3A52           01663         xorlw           RR                                      ;Codigo ASCII para o 'R'.
03F9   1903           01664         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
03FA   2800           01665         goto            0x00                            ;Se o Z foi para 1, Reinicializa o Sistema.
                      01666 ;       call            MSG_ERROR                       ;Mostra na tela uma msg de erro.
03FB   2C05           01667         goto            FIM_EXECUTA_COMANDOS
                      01668         
                      01669 
03FC                  01670 DEMONSTRACAO
03FC   2300           01671         call            SPLASHWINDOW            ;Mostra na tela a SplashWindow
03FD   2C05           01672         goto            FIM_EXECUTA_COMANDOS
                      01673 
03FE                  01674 MODOGRAFICO     ;Ainda não implementado
03FE   2C05           01675         goto            FIM_EXECUTA_COMANDOS    
                      01676 
03FF                  01677 ESCREVE_NA_L1
                      01678 ;O endereço inicial da primeira linha é: 
                      01679 ;  END_INIC_VIDEO + 0x06 (pula linha em branco inicial)
03FF   302C           01680         movlw   END_INIC_VIDEO+0x06
0400   00FD           01681         movwf   ENDERECO_INICIAL                ;Carrega o endereço inicial conforme a linha.
0401   2C0D           01682         goto    ESCREVE_NA_LINHA
                      01683 
0402                  01684 ESCREVE_NA_L2
                      01685 ;O endereço inicial da segunda linha é: 
                      01686 ;  END_INIC_VIDEO + 0x06 (linha em branco inicial) + 0x1E (1a linha) + 0x06 (linha em branco entre 1e2)
0402   3050           01687         movlw   END_INIC_VIDEO+0x06+0x1E+0x06
0403   00FD           01688         movwf   ENDERECO_INICIAL                ;Carrega o endereço inicial conforme a linha.
0404   2C0D           01689         goto    ESCREVE_NA_LINHA
                      01690 
0405                  01691 FIM_EXECUTA_COMANDOS
0405   12F4           01692         bcf                     EXECUTA                         ;Desabilita a execução (só vai executar 
                      01693                                                                         ;novamente se receber novo coman
                            do pela serial).
                      01694 
0406   128C           01695         bcf             PIR1,RCIF               ;Limpa o RCIF Interrupt Flag.
0407   019A           01696         clrf            RCREG                           ;Limpa o RCREG para poder receber o prox byte e 
                            não correr risco de erro.
0408   170B           01697         bsf                     INTCON, PEIE            ;Habilita as interrupções dos periféricos.
                      01698 
0409   0081           01699         movwf           TMR0                            ;Recarrega o TMR0
040A   110B           01700         bcf                     INTCON,T0IF                     ;Limpa o bit que foi setado pelo estouro
                             do TMR0
040B   168B           01701         bsf                     INTCON,T0IE                     ;Habilita a interrupção do TMR0
                      01702 
040C   28E8           01703         goto            SEM_SINC_H                      ;Segue adiante.
                      01704 
                      01705 
040D                  01706 ESCREVE_NA_LINHA
040D   0A84           01707         incf            FSR,F                           ;Incrementa o ponteiro de endereços para apontar
                             pro próximo
                      01708                                                                         ;caractere do buffer de comandos
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            .
                      01709         
                      01710         ;Testa se já ultrapassou o último endereço do buffer de comandos.
040E   0804           01711         movfw           FSR                                             ;Carrega o último endereço calcu
                            lado.
040F   1103           01712         bcf                     STATUS,2                                ;Limpa o Z.
0410   3AAC           01713         xorlw           END_FIM_CMDS+0x01               ;Testa se é igual ao último endereço do buffer +
                             1.
0411   1903           01714         btfsc           STATUS,2                                ;Testa se o Z mudou para 1.
0412   2C05           01715         goto            FIM_EXECUTA_COMANDOS    ;Se o Z foi para 1, acabou.
                      01716                                                                                 ;Se o Z nao foi para 1, 
                            continua executando comandos.
                      01717 
0413   087D           01718         movfw           ENDERECO_INICIAL                ;Endereço inicial da linha na memória de vídeo.
0414   077E           01719         addwf           CONT_BUFFER2,W                  ;O W agora está com ENDERECO_INICIAL + ORDEM NO 
                            BUFFER.
0415   00FF           01720         movwf           ENDERECO_LETRA                  ;Endereço inicial na memória de vídeo da letra a
                            tual.
                      01721 
0416   0800           01722         movfw           INDF                                    ;Carrega o valor ASCII do caractere no W
                            .               
0417   2420           01723         call            TABELA_ASCII
                      01724         
0418   1B74           01725         btfsc           MEIOBYTE                                ;Faz com que eu grave um caractere a cad
                            a meio byte.
0419   0AFE           01726         incf            CONT_BUFFER2,F                  ;Garante que no primeiro caractere CONT_BUFFER2=
                            0.
041A   1B74           01727         btfsc           MEIOBYTE                                ;Mantém o flag alternando a cada caracte
                            re e com
041B   2C1E           01728         goto            LIMPA_MEIOBYTE                  ;isso o CONT_BUFFER2 só é incrementado com a met
                            ade
041C   1774           01729         bsf                     MEIOBYTE                                ;da freq que os caracteres do bu
                            ffer são lidos.
                      01730                                                                                 ;O EndereçoDaLetra també
                            m fica com metade da freq.
041D   2C0D           01731         goto            ESCREVE_NA_LINHA                ;Continua escrevendo até acabar o buffer de coma
                            ndos.
                      01732 
041E                  01733 LIMPA_MEIOBYTE
041E   1374           01734         bcf                     MEIOBYTE
041F   2C0D           01735         goto            ESCREVE_NA_LINHA                ;Continua escrevendo até acabar o buffer de coma
                            ndos.
                      01736 
0420                  01737 TABELA_ASCII
0420   1683           01738         BANK1 ;Troca para o banco1 para facilitar o manuseio dos endereços neste banco.
                      01739 
0421   1103           01740         bcf                     STATUS,2                        ;Limpa o Z.
0422   3A41           01741         xorlw           AA                                      
0423   1903           01742         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0424   2D23           01743         goto            LETRA_A                         
0425   3A41           01744         xorlw           AA                                      ;Restaura o W.
                      01745 
0426   1103           01746         bcf                     STATUS,2                        ;Limpa o Z.
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0427   3A42           01747         xorlw           BB                                      
0428   1903           01748         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0429   2D2F           01749         goto            LETRA_B                         
042A   3A42           01750         xorlw           BB                                      ;Restaura o W.
                      01751 
042B   1103           01752         bcf                     STATUS,2                        ;Limpa o Z.
042C   3A43           01753         xorlw           CC                                      
042D   1903           01754         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
042E   2D3B           01755         goto            LETRA_C                         
042F   3A43           01756         xorlw           CC                                      ;Restaura o W.
                      01757 
0430   1103           01758         bcf                     STATUS,2                        ;Limpa o Z.
0431   3A44           01759         xorlw           DD                                      
0432   1903           01760         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0433   2D47           01761         goto            LETRA_D                         
0434   3A44           01762         xorlw           DD                                      ;Restaura o W.
                      01763 
0435   1103           01764         bcf                     STATUS,2                        ;Limpa o Z.
0436   3A45           01765         xorlw           EE                                      
0437   1903           01766         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0438   2D53           01767         goto            LETRA_E                         
0439   3A45           01768         xorlw           EE                                      ;Restaura o W.
                      01769 
043A   1103           01770         bcf                     STATUS,2                        ;Limpa o Z.
043B   3A46           01771         xorlw           FF                                      
043C   1903           01772         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
043D   2D5F           01773         goto            LETRA_F                         
043E   3A46           01774         xorlw           FF                                      ;Restaura o W.
                      01775 
043F   1103           01776         bcf                     STATUS,2                        ;Limpa o Z.
0440   3A47           01777         xorlw           GG                                      
0441   1903           01778         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0442   2D6B           01779         goto            LETRA_G                         
0443   3A47           01780         xorlw           GG                                      ;Restaura o W.
                      01781 
0444   1103           01782         bcf                     STATUS,2                        ;Limpa o Z.
0445   3A48           01783         xorlw           HH                                      
0446   1903           01784         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0447   2D77           01785         goto            LETRA_H                         
0448   3A48           01786         xorlw           HH                                      ;Restaura o W.
                      01787 
0449   1103           01788         bcf                     STATUS,2                        ;Limpa o Z.
044A   3A49           01789         xorlw           II                                      
044B   1903           01790         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
044C   2D83           01791         goto            LETRA_I                         
044D   3A49           01792         xorlw           II                                      ;Restaura o W.
                      01793 
044E   1103           01794         bcf                     STATUS,2                        ;Limpa o Z.
044F   3A4A           01795         xorlw           JJ                                      
0450   1903           01796         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0451   2D8F           01797         goto            LETRA_J                         
0452   3A4A           01798         xorlw           JJ                                      ;Restaura o W.
                      01799 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0453   1103           01800         bcf                     STATUS,2                        ;Limpa o Z.
0454   3A4B           01801         xorlw           KK                                      
0455   1903           01802         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0456   2D9B           01803         goto            LETRA_K                         
0457   3A4B           01804         xorlw           KK                                      ;Restaura o W.
                      01805 
0458   1103           01806         bcf                     STATUS,2                        ;Limpa o Z.
0459   3A4C           01807         xorlw           LL                                      
045A   1903           01808         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
045B   2DA7           01809         goto            LETRA_L                         
045C   3A4C           01810         xorlw           LL                                      ;Restaura o W.
                      01811 
045D   1103           01812         bcf                     STATUS,2                        ;Limpa o Z.
045E   3A4D           01813         xorlw           MM                                      
045F   1903           01814         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0460   2DB3           01815         goto            LETRA_M                         
0461   3A4D           01816         xorlw           MM                                      ;Restaura o W.
                      01817 
0462   1103           01818         bcf                     STATUS,2                        ;Limpa o Z.
0463   3A4E           01819         xorlw           NN                                      
0464   1903           01820         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0465   2DBF           01821         goto            LETRA_N                         
0466   3A4E           01822         xorlw           NN                                      ;Restaura o W.
                      01823 
0467   1103           01824         bcf                     STATUS,2                        ;Limpa o Z.
0468   3A4F           01825         xorlw           OO                                      
0469   1903           01826         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
046A   2DCB           01827         goto            LETRA_O                         
046B   3A4F           01828         xorlw           OO                                      ;Restaura o W.
                      01829 
046C   1103           01830         bcf                     STATUS,2                        ;Limpa o Z.
046D   3A50           01831         xorlw           PP                                      
046E   1903           01832         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
046F   2DD7           01833         goto            LETRA_P                         
0470   3A50           01834         xorlw           PP                                      ;Restaura o W.
                      01835 
0471   1103           01836         bcf                     STATUS,2                        ;Limpa o Z.
0472   3A51           01837         xorlw           QQ                                      
0473   1903           01838         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0474   2DE3           01839         goto            LETRA_Q                         
0475   3A51           01840         xorlw           QQ                                      ;Restaura o W.
                      01841 
0476   1103           01842         bcf                     STATUS,2                        ;Limpa o Z.
0477   3A52           01843         xorlw           RR                                      
0478   1903           01844         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0479   2DEF           01845         goto            LETRA_R                         
047A   3A52           01846         xorlw           RR                                      ;Restaura o W.
                      01847 
047B   1103           01848         bcf                     STATUS,2                        ;Limpa o Z.
047C   3A53           01849         xorlw           SS                                      
047D   1903           01850         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
047E   2DFB           01851         goto            LETRA_S                         
047F   3A53           01852         xorlw           SS                                      ;Restaura o W.
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01853 
0480   1103           01854         bcf                     STATUS,2                        ;Limpa o Z.
0481   3A54           01855         xorlw           TT                                      
0482   1903           01856         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0483   2E07           01857         goto            LETRA_T                         
0484   3A54           01858         xorlw           TT                                      ;Restaura o W.
                      01859 
0485   1103           01860         bcf                     STATUS,2                        ;Limpa o Z.
0486   3A55           01861         xorlw           UU                                      
0487   1903           01862         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0488   2E13           01863         goto            LETRA_U                         
0489   3A55           01864         xorlw           UU                                      ;Restaura o W.
                      01865 
048A   1103           01866         bcf                     STATUS,2                        ;Limpa o Z.
048B   3A56           01867         xorlw           VV                                      
048C   1903           01868         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
048D   2E1F           01869         goto            LETRA_V                         
048E   3A56           01870         xorlw           VV                                      ;Restaura o W.
                      01871 
048F   1103           01872         bcf                     STATUS,2                        ;Limpa o Z.
0490   3A57           01873         xorlw           WW                                      
0491   1903           01874         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0492   2E2B           01875         goto            LETRA_W                         
0493   3A57           01876         xorlw           WW                                      ;Restaura o W.
                      01877 
0494   1103           01878         bcf                     STATUS,2                        ;Limpa o Z.
0495   3A58           01879         xorlw           XX                                      
0496   1903           01880         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0497   2E37           01881         goto            LETRA_X                         
0498   3A58           01882         xorlw           XX                                      ;Restaura o W.
                      01883 
0499   1103           01884         bcf                     STATUS,2                        ;Limpa o Z.
049A   3A59           01885         xorlw           YY                                      
049B   1903           01886         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
049C   2E43           01887         goto            LETRA_Y                         
049D   3A59           01888         xorlw           YY                                      ;Restaura o W.
                      01889 
049E   1103           01890         bcf                     STATUS,2                        ;Limpa o Z.
049F   3A5A           01891         xorlw           ZZ                                      
04A0   1903           01892         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04A1   2E4F           01893         goto            LETRA_Z                         
04A2   3A5A           01894         xorlw           ZZ                                      ;Restaura o W.
                      01895 
04A3   1103           01896         bcf                     STATUS,2                        ;Limpa o Z.
04A4   3A20           01897         xorlw           SP                                      
04A5   1903           01898         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04A6   2E5B           01899         goto            ESPACO                          
04A7   3A20           01900         xorlw           SP                                      ;Restaura o W.
                      01901 
04A8   1103           01902         bcf                     STATUS,2                        ;Limpa o Z.
04A9   3A21           01903         xorlw           SE                                      
04AA   1903           01904         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04AB   2E67           01905         goto            EXCLAMACAO                              
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04AC   3A21           01906         xorlw           SE                                      ;Restaura o W.
                      01907 
04AD   1103           01908         bcf                     STATUS,2                        ;Limpa o Z.
04AE   3A22           01909         xorlw           AS                                      
04AF   1903           01910         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04B0   2E73           01911         goto            ASPAS                           
04B1   3A22           01912         xorlw           AS                                      ;Restaura o W.
                      01913 
04B2   1103           01914         bcf                     STATUS,2                        ;Limpa o Z.
04B3   3A23           01915         xorlw           SU                                      
04B4   1903           01916         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04B5   2E7F           01917         goto            SUSTENIDO                               
04B6   3A23           01918         xorlw           SU                                      ;Restaura o W.
                      01919 
04B7   1103           01920         bcf                     STATUS,2                        ;Limpa o Z.
04B8   3A25           01921         xorlw           PO                                      
04B9   1903           01922         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04BA   2E8B           01923         goto            PORCENTO                                
04BB   3A25           01924         xorlw           PO                                      ;Restaura o W.
                      01925 
04BC   1103           01926         bcf                     STATUS,2                        ;Limpa o Z.
04BD   3A28           01927         xorlw           AP                                      
04BE   1903           01928         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04BF   2E97           01929         goto            ABRE_PARENT                             
04C0   3A28           01930         xorlw           AP                                      ;Restaura o W.
                      01931 
04C1   1103           01932         bcf                     STATUS,2                        ;Limpa o Z.
04C2   3A29           01933         xorlw           FP                                      
04C3   1903           01934         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04C4   2EA3           01935         goto            FECHA_PARENT                            
04C5   3A29           01936         xorlw           FP                                      ;Restaura o W.
                      01937 
04C6   1103           01938         bcf                     STATUS,2                        ;Limpa o Z.
04C7   3A2A           01939         xorlw           MU                                      
04C8   1903           01940         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04C9   2EAF           01941         goto            ASTERISCO                               
04CA   3A2A           01942         xorlw           MU                                      ;Restaura o W.
                      01943 
04CB   1103           01944         bcf                     STATUS,2                        ;Limpa o Z.
04CC   3A2B           01945         xorlw           MA                                      
04CD   1903           01946         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04CE   2EBB           01947         goto            MAIS                            
04CF   3A2B           01948         xorlw           MA                                      ;Restaura o W.
                      01949 
04D0   1103           01950         bcf                     STATUS,2                        ;Limpa o Z.
04D1   3A2D           01951         xorlw           ME                                      
04D2   1903           01952         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04D3   2EC7           01953         goto            MENOS                           
04D4   3A2D           01954         xorlw           ME                                      ;Restaura o W.
                      01955 
04D5   1103           01956         bcf                     STATUS,2                        ;Limpa o Z.
04D6   3A2E           01957         xorlw           PT                                      
04D7   1903           01958         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04D8   2ED3           01959         goto            PONTO                           
04D9   3A2E           01960         xorlw           PT                                      ;Restaura o W.
                      01961 
04DA   1103           01962         bcf                     STATUS,2                        ;Limpa o Z.
04DB   3A30           01963         xorlw           ZR                                      
04DC   1903           01964         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04DD   2EDF           01965         goto            ZERO                            
04DE   3A30           01966         xorlw           ZR                                      ;Restaura o W.
                      01967 
04DF   1103           01968         bcf                     STATUS,2                        ;Limpa o Z.
04E0   3A31           01969         xorlw           UM                                      
04E1   1903           01970         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04E2   2EEB           01971         goto            UMM                             
04E3   3A31           01972         xorlw           UM                                      ;Restaura o W.
                      01973 
04E4   1103           01974         bcf                     STATUS,2                        ;Limpa o Z.
04E5   3A32           01975         xorlw           DO                                      
04E6   1903           01976         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04E7   2EF7           01977         goto            DOIS                            
04E8   3A32           01978         xorlw           DO                                      ;Restaura o W.
                      01979 
04E9   1103           01980         bcf                     STATUS,2                        ;Limpa o Z.
04EA   3A33           01981         xorlw           TR                                      
04EB   1903           01982         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04EC   2F03           01983         goto            TRES                            
04ED   3A33           01984         xorlw           TR                                      ;Restaura o W.
                      01985 
04EE   1103           01986         bcf                     STATUS,2                        ;Limpa o Z.
04EF   3A34           01987         xorlw           QU                                      
04F0   1903           01988         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04F1   2F0F           01989         goto            QUATRO                          
04F2   3A34           01990         xorlw           QU                                      ;Restaura o W.
                      01991 
04F3   1103           01992         bcf                     STATUS,2                        ;Limpa o Z.
04F4   3A35           01993         xorlw           CI                                      
04F5   1903           01994         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04F6   2F1B           01995         goto            CINCO                           
04F7   3A35           01996         xorlw           CI                                      ;Restaura o W.
                      01997 
04F8   1103           01998         bcf                     STATUS,2                        ;Limpa o Z.
04F9   3A36           01999         xorlw           SZ                                      
04FA   1903           02000         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
04FB   2F27           02001         goto            SEIS                            
04FC   3A36           02002         xorlw           SZ                                      ;Restaura o W.
                      02003 
04FD   1103           02004         bcf                     STATUS,2                        ;Limpa o Z.
04FE   3A37           02005         xorlw           ST                                      
04FF   1903           02006         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0500   2F33           02007         goto            SETE                            
0501   3A37           02008         xorlw           ST                                      ;Restaura o W.
                      02009 
0502   1103           02010         bcf                     STATUS,2                        ;Limpa o Z.
0503   3A38           02011         xorlw           OI                                      
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0504   1903           02012         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0505   2F3F           02013         goto            OITO                            
0506   3A38           02014         xorlw           OI                                      ;Restaura o W.
                      02015 
0507   1103           02016         bcf                     STATUS,2                        ;Limpa o Z.
0508   3A39           02017         xorlw           NO                                      
0509   1903           02018         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
050A   2F4B           02019         goto            NOVE                            
050B   3A39           02020         xorlw           NO                                      ;Restaura o W.
                      02021 
050C   1103           02022         bcf                     STATUS,2                        ;Limpa o Z.
050D   3A3A           02023         xorlw           DP                                      
050E   1903           02024         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
050F   2F57           02025         goto            DOISPONTOS                              
0510   3A3A           02026         xorlw           DP                                      ;Restaura o W.
                      02027 
0511   1103           02028         bcf                     STATUS,2                        ;Limpa o Z.
0512   3A3D           02029         xorlw           IG                                      
0513   1903           02030         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0514   2F63           02031         goto            IGUAL                           
0515   3A3D           02032         xorlw           IG                                      ;Restaura o W.
                      02033 
0516   1103           02034         bcf                     STATUS,2                        ;Limpa o Z.
0517   3A3F           02035         xorlw           SI                                      
0518   1903           02036         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
0519   2F6F           02037         goto            INTERROGACAO                            
051A   3A3F           02038         xorlw           SI                                      ;Restaura o W.
                      02039 
051B   1103           02040         bcf                     STATUS,2                        ;Limpa o Z.
051C   3A2F           02041         xorlw           DV                                      
051D   1903           02042         btfsc           STATUS,2                        ;Testa se o Z mudou para 1.
051E   2F7B           02043         goto            BARRA                           
051F   3A2F           02044         xorlw           DV                                      ;Restaura o W.
                      02045 
0520   2F88           02046         goto            CHARERRO                        ;Não bateu com nenhum outro.
                      02047 
                      02048 
                      02049 
0521                  02050 VOLTA_TABELA_ASCII
0521   1283           02051         BANK0   ;Retorna para o Banco 0
                      02052 
0522   0008           02053         return
                      02054 
                      02055 ;Atenção: as letras são desenhadas espelhadas porque
                      02056 ;a rotina de leitura da memória / escrita na tela lê
                      02057 ;os bits do menos significativos pro mais significativos.
                      02058 
0523                  02059 LETRA_A                 ;(0x41)
0523   3002           02060         movlw   B'00000010'
0524   00AC           02061         movwf   LETRA1
0525   3005           02062         movlw   B'00000101'
0526   00AD           02063         movwf   LETRA2
0527   3007           02064         movlw   B'00000111'
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0528   00AE           02065         movwf   LETRA3
0529   3005           02066         movlw   B'00000101'     
052A   00AF           02067         movwf   LETRA4
052B   3005           02068         movlw   B'00000101'
052C   00B0           02069         movwf   LETRA5
052D   2796           02070         call    PASSA_LETRA_MEMORIA
052E   2D21           02071         goto    VOLTA_TABELA_ASCII
                      02072 
052F                  02073 LETRA_B                 ;(0x42)
052F   3003           02074         movlw   B'00000011'
0530   00AC           02075         movwf   LETRA1
0531   3005           02076         movlw   B'00000101'
0532   00AD           02077         movwf   LETRA2
0533   3003           02078         movlw   B'00000011'
0534   00AE           02079         movwf   LETRA3
0535   3005           02080         movlw   B'00000101'     
0536   00AF           02081         movwf   LETRA4
0537   3003           02082         movlw   B'00000011'
0538   00B0           02083         movwf   LETRA5
0539   2796           02084         call    PASSA_LETRA_MEMORIA
053A   2D21           02085         goto    VOLTA_TABELA_ASCII
                      02086 
053B                  02087 LETRA_C                 ;(0x43)
053B   3006           02088         movlw   B'00000110'
053C   00AC           02089         movwf   LETRA1
053D   3001           02090         movlw   B'00000001'
053E   00AD           02091         movwf   LETRA2
053F   3001           02092         movlw   B'00000001'
0540   00AE           02093         movwf   LETRA3
0541   3001           02094         movlw   B'00000001'     
0542   00AF           02095         movwf   LETRA4
0543   3006           02096         movlw   B'00000110'
0544   00B0           02097         movwf   LETRA5
0545   2796           02098         call    PASSA_LETRA_MEMORIA
0546   2D21           02099         goto    VOLTA_TABELA_ASCII
                      02100 
0547                  02101 LETRA_D                 ;(0x44)
0547   3003           02102         movlw   B'00000011'
0548   00AC           02103         movwf   LETRA1
0549   3005           02104         movlw   B'00000101'
054A   00AD           02105         movwf   LETRA2
054B   3005           02106         movlw   B'00000101'
054C   00AE           02107         movwf   LETRA3
054D   3005           02108         movlw   B'00000101'     
054E   00AF           02109         movwf   LETRA4
054F   3003           02110         movlw   B'00000011'
0550   00B0           02111         movwf   LETRA5
0551   2796           02112         call    PASSA_LETRA_MEMORIA
0552   2D21           02113         goto    VOLTA_TABELA_ASCII
                      02114 
0553                  02115 LETRA_E                 ;(0x45)
0553   3007           02116         movlw   B'00000111'
0554   00AC           02117         movwf   LETRA1
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0555   3001           02118         movlw   B'00000001'
0556   00AD           02119         movwf   LETRA2
0557   3003           02120         movlw   B'00000011'
0558   00AE           02121         movwf   LETRA3
0559   3001           02122         movlw   B'00000001'     
055A   00AF           02123         movwf   LETRA4
055B   3007           02124         movlw   B'00000111'
055C   00B0           02125         movwf   LETRA5
055D   2796           02126         call    PASSA_LETRA_MEMORIA
055E   2D21           02127         goto    VOLTA_TABELA_ASCII
                      02128 
055F                  02129 LETRA_F                 ;(0x46)
055F   3007           02130         movlw   B'00000111'
0560   00AC           02131         movwf   LETRA1
0561   3001           02132         movlw   B'00000001'
0562   00AD           02133         movwf   LETRA2
0563   3003           02134         movlw   B'00000011'
0564   00AE           02135         movwf   LETRA3
0565   3001           02136         movlw   B'00000001'     
0566   00AF           02137         movwf   LETRA4
0567   3001           02138         movlw   B'00000001'
0568   00B0           02139         movwf   LETRA5
0569   2796           02140         call    PASSA_LETRA_MEMORIA
056A   2D21           02141         goto    VOLTA_TABELA_ASCII
                      02142 
056B                  02143 LETRA_G                 ;(0x47)
056B   3007           02144         movlw   B'00000111'
056C   00AC           02145         movwf   LETRA1
056D   3001           02146         movlw   B'00000001'
056E   00AD           02147         movwf   LETRA2
056F   3005           02148         movlw   B'00000101'
0570   00AE           02149         movwf   LETRA3
0571   3005           02150         movlw   B'00000101'     
0572   00AF           02151         movwf   LETRA4
0573   3007           02152         movlw   B'00000111'
0574   00B0           02153         movwf   LETRA5
0575   2796           02154         call    PASSA_LETRA_MEMORIA
0576   2D21           02155         goto    VOLTA_TABELA_ASCII
                      02156 
0577                  02157 LETRA_H                 ;(0x48)
0577   3005           02158         movlw   B'00000101'
0578   00AC           02159         movwf   LETRA1
0579   3005           02160         movlw   B'00000101'
057A   00AD           02161         movwf   LETRA2
057B   3007           02162         movlw   B'00000111'
057C   00AE           02163         movwf   LETRA3
057D   3005           02164         movlw   B'00000101'     
057E   00AF           02165         movwf   LETRA4
057F   3005           02166         movlw   B'00000101'
0580   00B0           02167         movwf   LETRA5
0581   2796           02168         call    PASSA_LETRA_MEMORIA
0582   2D21           02169         goto    VOLTA_TABELA_ASCII
                      02170 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0583                  02171 LETRA_I                 ;(0x49)
0583   3007           02172         movlw   B'00000111'
0584   00AC           02173         movwf   LETRA1
0585   3002           02174         movlw   B'00000010'
0586   00AD           02175         movwf   LETRA2
0587   3002           02176         movlw   B'00000010'
0588   00AE           02177         movwf   LETRA3
0589   3002           02178         movlw   B'00000010'     
058A   00AF           02179         movwf   LETRA4
058B   3007           02180         movlw   B'00000111'
058C   00B0           02181         movwf   LETRA5
058D   2796           02182         call    PASSA_LETRA_MEMORIA
058E   2D21           02183         goto    VOLTA_TABELA_ASCII
                      02184 
058F                  02185 LETRA_J                 ;(0x4A)
058F   3007           02186         movlw   B'00000111'
0590   00AC           02187         movwf   LETRA1
0591   3004           02188         movlw   B'00000100'
0592   00AD           02189         movwf   LETRA2
0593   3004           02190         movlw   B'00000100'
0594   00AE           02191         movwf   LETRA3
0595   3005           02192         movlw   B'00000101'     
0596   00AF           02193         movwf   LETRA4
0597   3007           02194         movlw   B'00000111'
0598   00B0           02195         movwf   LETRA5
0599   2796           02196         call    PASSA_LETRA_MEMORIA
059A   2D21           02197         goto    VOLTA_TABELA_ASCII
                      02198 
059B                  02199 LETRA_K                 ;(0x4B)
059B   3005           02200         movlw   B'00000101'
059C   00AC           02201         movwf   LETRA1
059D   3005           02202         movlw   B'00000101'
059E   00AD           02203         movwf   LETRA2
059F   3003           02204         movlw   B'00000011'
05A0   00AE           02205         movwf   LETRA3
05A1   3005           02206         movlw   B'00000101'     
05A2   00AF           02207         movwf   LETRA4
05A3   3005           02208         movlw   B'00000101'
05A4   00B0           02209         movwf   LETRA5
05A5   2796           02210         call    PASSA_LETRA_MEMORIA
05A6   2D21           02211         goto    VOLTA_TABELA_ASCII
                      02212 
05A7                  02213 LETRA_L                 ;(0x4C)
05A7   3001           02214         movlw   B'00000001'
05A8   00AC           02215         movwf   LETRA1
05A9   3001           02216         movlw   B'00000001'
05AA   00AD           02217         movwf   LETRA2
05AB   3001           02218         movlw   B'00000001'
05AC   00AE           02219         movwf   LETRA3
05AD   3001           02220         movlw   B'00000001'     
05AE   00AF           02221         movwf   LETRA4
05AF   3007           02222         movlw   B'00000111'
05B0   00B0           02223         movwf   LETRA5
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05B1   2796           02224         call    PASSA_LETRA_MEMORIA
05B2   2D21           02225         goto    VOLTA_TABELA_ASCII
                      02226 
05B3                  02227 LETRA_M                 ;(0x4D)
05B3   3005           02228         movlw   B'00000101'
05B4   00AC           02229         movwf   LETRA1
05B5   3007           02230         movlw   B'00000111'
05B6   00AD           02231         movwf   LETRA2
05B7   3007           02232         movlw   B'00000111'
05B8   00AE           02233         movwf   LETRA3
05B9   3005           02234         movlw   B'00000101'     
05BA   00AF           02235         movwf   LETRA4
05BB   3005           02236         movlw   B'00000101'
05BC   00B0           02237         movwf   LETRA5
05BD   2796           02238         call    PASSA_LETRA_MEMORIA
05BE   2D21           02239         goto    VOLTA_TABELA_ASCII
                      02240 
05BF                  02241 LETRA_N                 ;(0x4E)
05BF   3003           02242         movlw   B'00000011'
05C0   00AC           02243         movwf   LETRA1
05C1   3005           02244         movlw   B'00000101'
05C2   00AD           02245         movwf   LETRA2
05C3   3005           02246         movlw   B'00000101'
05C4   00AE           02247         movwf   LETRA3
05C5   3005           02248         movlw   B'00000101'     
05C6   00AF           02249         movwf   LETRA4
05C7   3005           02250         movlw   B'00000101'
05C8   00B0           02251         movwf   LETRA5
05C9   2796           02252         call    PASSA_LETRA_MEMORIA
05CA   2D21           02253         goto    VOLTA_TABELA_ASCII
                      02254 
05CB                  02255 LETRA_O                 ;(0x4F)
05CB   3007           02256         movlw   B'00000111'
05CC   00AC           02257         movwf   LETRA1
05CD   3005           02258         movlw   B'00000101'
05CE   00AD           02259         movwf   LETRA2
05CF   3005           02260         movlw   B'00000101'
05D0   00AE           02261         movwf   LETRA3
05D1   3005           02262         movlw   B'00000101'     
05D2   00AF           02263         movwf   LETRA4
05D3   3007           02264         movlw   B'00000111'
05D4   00B0           02265         movwf   LETRA5
05D5   2796           02266         call    PASSA_LETRA_MEMORIA
05D6   2D21           02267         goto    VOLTA_TABELA_ASCII
                      02268 
05D7                  02269 LETRA_P                 ;(0x50)
05D7   3007           02270         movlw   B'00000111'
05D8   00AC           02271         movwf   LETRA1
05D9   3005           02272         movlw   B'00000101'
05DA   00AD           02273         movwf   LETRA2
05DB   3007           02274         movlw   B'00000111'
05DC   00AE           02275         movwf   LETRA3
05DD   3001           02276         movlw   B'00000001'     
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05DE   00AF           02277         movwf   LETRA4
05DF   3001           02278         movlw   B'00000001'
05E0   00B0           02279         movwf   LETRA5
05E1   2796           02280         call    PASSA_LETRA_MEMORIA
05E2   2D21           02281         goto    VOLTA_TABELA_ASCII
                      02282 
05E3                  02283 LETRA_Q                 ;(0x51)
05E3   3007           02284         movlw   B'00000111'
05E4   00AC           02285         movwf   LETRA1
05E5   3005           02286         movlw   B'00000101'
05E6   00AD           02287         movwf   LETRA2
05E7   3005           02288         movlw   B'00000101'
05E8   00AE           02289         movwf   LETRA3
05E9   3007           02290         movlw   B'00000111'     
05EA   00AF           02291         movwf   LETRA4
05EB   3003           02292         movlw   B'00000011'
05EC   00B0           02293         movwf   LETRA5
05ED   2796           02294         call    PASSA_LETRA_MEMORIA
05EE   2D21           02295         goto    VOLTA_TABELA_ASCII
                      02296 
05EF                  02297 LETRA_R                 ;(0x52)
05EF   3007           02298         movlw   B'00000111'
05F0   00AC           02299         movwf   LETRA1
05F1   3005           02300         movlw   B'00000101'
05F2   00AD           02301         movwf   LETRA2
05F3   3007           02302         movlw   B'00000111'
05F4   00AE           02303         movwf   LETRA3
05F5   3003           02304         movlw   B'00000011'     
05F6   00AF           02305         movwf   LETRA4
05F7   3005           02306         movlw   B'00000101'
05F8   00B0           02307         movwf   LETRA5
05F9   2796           02308         call    PASSA_LETRA_MEMORIA
05FA   2D21           02309         goto    VOLTA_TABELA_ASCII
                      02310 
05FB                  02311 LETRA_S                 ;(0x53)
05FB   3007           02312         movlw   B'00000111'
05FC   00AC           02313         movwf   LETRA1
05FD   3001           02314         movlw   B'00000001'
05FE   00AD           02315         movwf   LETRA2
05FF   3007           02316         movlw   B'00000111'
0600   00AE           02317         movwf   LETRA3
0601   3004           02318         movlw   B'00000100'     
0602   00AF           02319         movwf   LETRA4
0603   3007           02320         movlw   B'00000111'
0604   00B0           02321         movwf   LETRA5
0605   2796           02322         call    PASSA_LETRA_MEMORIA
0606   2D21           02323         goto    VOLTA_TABELA_ASCII
                      02324 
0607                  02325 LETRA_T                 ;(0x54)
0607   3007           02326         movlw   B'00000111'
0608   00AC           02327         movwf   LETRA1
0609   3002           02328         movlw   B'00000010'
060A   00AD           02329         movwf   LETRA2
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

060B   3002           02330         movlw   B'00000010'
060C   00AE           02331         movwf   LETRA3
060D   3002           02332         movlw   B'00000010'     
060E   00AF           02333         movwf   LETRA4
060F   3002           02334         movlw   B'00000010'
0610   00B0           02335         movwf   LETRA5
0611   2796           02336         call    PASSA_LETRA_MEMORIA
0612   2D21           02337         goto    VOLTA_TABELA_ASCII
                      02338 
0613                  02339 LETRA_U                 ;(0x55)
0613   3005           02340         movlw   B'00000101'
0614   00AC           02341         movwf   LETRA1
0615   3005           02342         movlw   B'00000101'
0616   00AD           02343         movwf   LETRA2
0617   3005           02344         movlw   B'00000101'
0618   00AE           02345         movwf   LETRA3
0619   3005           02346         movlw   B'00000101'     
061A   00AF           02347         movwf   LETRA4
061B   3007           02348         movlw   B'00000111'
061C   00B0           02349         movwf   LETRA5
061D   2796           02350         call    PASSA_LETRA_MEMORIA
061E   2D21           02351         goto    VOLTA_TABELA_ASCII
                      02352 
061F                  02353 LETRA_V                 ;(0x56)
061F   3005           02354         movlw   B'00000101'
0620   00AC           02355         movwf   LETRA1
0621   3005           02356         movlw   B'00000101'
0622   00AD           02357         movwf   LETRA2
0623   3005           02358         movlw   B'00000101'
0624   00AE           02359         movwf   LETRA3
0625   3005           02360         movlw   B'00000101'     
0626   00AF           02361         movwf   LETRA4
0627   3002           02362         movlw   B'00000010'
0628   00B0           02363         movwf   LETRA5
0629   2796           02364         call    PASSA_LETRA_MEMORIA
062A   2D21           02365         goto    VOLTA_TABELA_ASCII
                      02366 
062B                  02367 LETRA_W                 ;(0x57)
062B   3005           02368         movlw   B'00000101'
062C   00AC           02369         movwf   LETRA1
062D   3005           02370         movlw   B'00000101'
062E   00AD           02371         movwf   LETRA2
062F   3007           02372         movlw   B'00000111'
0630   00AE           02373         movwf   LETRA3
0631   3007           02374         movlw   B'00000111'     
0632   00AF           02375         movwf   LETRA4
0633   3005           02376         movlw   B'00000101'
0634   00B0           02377         movwf   LETRA5
0635   2796           02378         call    PASSA_LETRA_MEMORIA
0636   2D21           02379         goto    VOLTA_TABELA_ASCII
                      02380 
0637                  02381 LETRA_X                 ;(0x58)
0637   3005           02382         movlw   B'00000101'
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0638   00AC           02383         movwf   LETRA1
0639   3005           02384         movlw   B'00000101'
063A   00AD           02385         movwf   LETRA2
063B   3002           02386         movlw   B'00000010'
063C   00AE           02387         movwf   LETRA3
063D   3005           02388         movlw   B'00000101'     
063E   00AF           02389         movwf   LETRA4
063F   3005           02390         movlw   B'00000101'
0640   00B0           02391         movwf   LETRA5
0641   2796           02392         call    PASSA_LETRA_MEMORIA
0642   2D21           02393         goto    VOLTA_TABELA_ASCII
                      02394 
0643                  02395 LETRA_Y                 ;(0x59)
0643   3005           02396         movlw   B'00000101'
0644   00AC           02397         movwf   LETRA1
0645   3005           02398         movlw   B'00000101'
0646   00AD           02399         movwf   LETRA2
0647   3002           02400         movlw   B'00000010'
0648   00AE           02401         movwf   LETRA3
0649   3002           02402         movlw   B'00000010'     
064A   00AF           02403         movwf   LETRA4
064B   3002           02404         movlw   B'00000010'
064C   00B0           02405         movwf   LETRA5
064D   2796           02406         call    PASSA_LETRA_MEMORIA
064E   2D21           02407         goto    VOLTA_TABELA_ASCII
                      02408 
064F                  02409 LETRA_Z                 ;(0x5A)
064F   3007           02410         movlw   B'00000111'
0650   00AC           02411         movwf   LETRA1
0651   3004           02412         movlw   B'00000100'
0652   00AD           02413         movwf   LETRA2
0653   3002           02414         movlw   B'00000010'
0654   00AE           02415         movwf   LETRA3
0655   3001           02416         movlw   B'00000001'     
0656   00AF           02417         movwf   LETRA4
0657   3007           02418         movlw   B'00000111'
0658   00B0           02419         movwf   LETRA5
0659   2796           02420         call    PASSA_LETRA_MEMORIA
065A   2D21           02421         goto    VOLTA_TABELA_ASCII
                      02422 
065B                  02423 ESPACO                  ;(0x20)
065B   3000           02424         movlw   B'00000000'
065C   00AC           02425         movwf   LETRA1
065D   3000           02426         movlw   B'00000000'
065E   00AD           02427         movwf   LETRA2
065F   3000           02428         movlw   B'00000000'
0660   00AE           02429         movwf   LETRA3
0661   3000           02430         movlw   B'00000000'     
0662   00AF           02431         movwf   LETRA4
0663   3000           02432         movlw   B'00000000'
0664   00B0           02433         movwf   LETRA5
0665   2796           02434         call    PASSA_LETRA_MEMORIA
0666   2D21           02435         goto    VOLTA_TABELA_ASCII
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02436 
0667                  02437 EXCLAMACAO      ;(0x21)
0667   3002           02438         movlw   B'00000010'
0668   00AC           02439         movwf   LETRA1
0669   3002           02440         movlw   B'00000010'
066A   00AD           02441         movwf   LETRA2
066B   3002           02442         movlw   B'00000010'
066C   00AE           02443         movwf   LETRA3
066D   3000           02444         movlw   B'00000000'     
066E   00AF           02445         movwf   LETRA4
066F   3002           02446         movlw   B'00000010'
0670   00B0           02447         movwf   LETRA5
0671   2796           02448         call    PASSA_LETRA_MEMORIA
0672   2D21           02449         goto    VOLTA_TABELA_ASCII
                      02450 
0673                  02451 ASPAS                   ;(0x22)
0673   3005           02452         movlw   B'00000101'
0674   00AC           02453         movwf   LETRA1
0675   3005           02454         movlw   B'00000101'
0676   00AD           02455         movwf   LETRA2
0677   3000           02456         movlw   B'00000000'
0678   00AE           02457         movwf   LETRA3
0679   3000           02458         movlw   B'00000000'     
067A   00AF           02459         movwf   LETRA4
067B   3000           02460         movlw   B'00000000'
067C   00B0           02461         movwf   LETRA5
067D   2796           02462         call    PASSA_LETRA_MEMORIA
067E   2D21           02463         goto    VOLTA_TABELA_ASCII
                      02464 
067F                  02465 SUSTENIDO               ;(0x23)
067F   3005           02466         movlw   B'00000101'
0680   00AC           02467         movwf   LETRA1
0681   3007           02468         movlw   B'00000111'
0682   00AD           02469         movwf   LETRA2
0683   3005           02470         movlw   B'00000101'
0684   00AE           02471         movwf   LETRA3
0685   3007           02472         movlw   B'00000111'     
0686   00AF           02473         movwf   LETRA4
0687   3005           02474         movlw   B'00000101'
0688   00B0           02475         movwf   LETRA5
0689   2796           02476         call    PASSA_LETRA_MEMORIA
068A   2D21           02477         goto    VOLTA_TABELA_ASCII
                      02478 
068B                  02479 PORCENTO                ;(0x25)
068B   3005           02480         movlw   B'00000101'
068C   00AC           02481         movwf   LETRA1
068D   3004           02482         movlw   B'00000100'
068E   00AD           02483         movwf   LETRA2
068F   3002           02484         movlw   B'00000010'
0690   00AE           02485         movwf   LETRA3
0691   3001           02486         movlw   B'00000001'     
0692   00AF           02487         movwf   LETRA4
0693   3005           02488         movlw   B'00000101'
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 71


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0694   00B0           02489         movwf   LETRA5
0695   2796           02490         call    PASSA_LETRA_MEMORIA
0696   2D21           02491         goto    VOLTA_TABELA_ASCII
                      02492 
0697                  02493 ABRE_PARENT     ;(0x28) 
0697   3002           02494         movlw   B'00000010'
0698   00AC           02495         movwf   LETRA1
0699   3001           02496         movlw   B'00000001'
069A   00AD           02497         movwf   LETRA2
069B   3001           02498         movlw   B'00000001'
069C   00AE           02499         movwf   LETRA3
069D   3001           02500         movlw   B'00000001'     
069E   00AF           02501         movwf   LETRA4
069F   3002           02502         movlw   B'00000010'
06A0   00B0           02503         movwf   LETRA5
06A1   2796           02504         call    PASSA_LETRA_MEMORIA
06A2   2D21           02505         goto    VOLTA_TABELA_ASCII
                      02506 
06A3                  02507 FECHA_PARENT    ;(0x29) 
                      02508 
06A3   3002           02509         movlw   B'00000010'
06A4   00AC           02510         movwf   LETRA1
06A5   3004           02511         movlw   B'00000100'
06A6   00AD           02512         movwf   LETRA2
06A7   3004           02513         movlw   B'00000100'
06A8   00AE           02514         movwf   LETRA3
06A9   3004           02515         movlw   B'00000100'     
06AA   00AF           02516         movwf   LETRA4
06AB   3002           02517         movlw   B'00000010'
06AC   00B0           02518         movwf   LETRA5
06AD   2796           02519         call    PASSA_LETRA_MEMORIA
06AE   2D21           02520         goto    VOLTA_TABELA_ASCII
                      02521 
06AF                  02522 ASTERISCO               ;(0x2A) 
06AF   3000           02523         movlw   B'00000000'
06B0   00AC           02524         movwf   LETRA1
06B1   3005           02525         movlw   B'00000101'
06B2   00AD           02526         movwf   LETRA2
06B3   3002           02527         movlw   B'00000010'
06B4   00AE           02528         movwf   LETRA3
06B5   3005           02529         movlw   B'00000101'     
06B6   00AF           02530         movwf   LETRA4
06B7   3000           02531         movlw   B'00000000'
06B8   00B0           02532         movwf   LETRA5
06B9   2796           02533         call    PASSA_LETRA_MEMORIA
06BA   2D21           02534         goto    VOLTA_TABELA_ASCII
                      02535 
06BB                  02536 MAIS                    ;(0x2B) 
06BB   3000           02537         movlw   B'00000000'
06BC   00AC           02538         movwf   LETRA1
06BD   3002           02539         movlw   B'00000010'
06BE   00AD           02540         movwf   LETRA2
06BF   3007           02541         movlw   B'00000111'
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 72


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06C0   00AE           02542         movwf   LETRA3
06C1   3002           02543         movlw   B'00000010'     
06C2   00AF           02544         movwf   LETRA4
06C3   3000           02545         movlw   B'00000000'
06C4   00B0           02546         movwf   LETRA5
06C5   2796           02547         call    PASSA_LETRA_MEMORIA
06C6   2D21           02548         goto    VOLTA_TABELA_ASCII
                      02549 
06C7                  02550 MENOS                   ;(0x2D) 
06C7   3000           02551         movlw   B'00000000'
06C8   00AC           02552         movwf   LETRA1
06C9   3000           02553         movlw   B'0000000'
06CA   00AD           02554         movwf   LETRA2
06CB   3007           02555         movlw   B'00000111'
06CC   00AE           02556         movwf   LETRA3
06CD   3000           02557         movlw   B'00000000'     
06CE   00AF           02558         movwf   LETRA4
06CF   3000           02559         movlw   B'00000000'
06D0   00B0           02560         movwf   LETRA5
06D1   2796           02561         call    PASSA_LETRA_MEMORIA
06D2   2D21           02562         goto    VOLTA_TABELA_ASCII
                      02563 
06D3                  02564 PONTO                   ;(0x2E) 
06D3   3000           02565         movlw   B'00000000'
06D4   00AC           02566         movwf   LETRA1
06D5   3000           02567         movlw   B'00000000'
06D6   00AD           02568         movwf   LETRA2
06D7   3000           02569         movlw   B'00000000'
06D8   00AE           02570         movwf   LETRA3
06D9   3000           02571         movlw   B'00000000'     
06DA   00AF           02572         movwf   LETRA4
06DB   3002           02573         movlw   B'00000010'
06DC   00B0           02574         movwf   LETRA5
06DD   2796           02575         call    PASSA_LETRA_MEMORIA
06DE   2D21           02576         goto    VOLTA_TABELA_ASCII
                      02577 
06DF                  02578 ZERO                    ;(0x30)         
06DF   3007           02579         movlw   B'00000111'
06E0   00AC           02580         movwf   LETRA1
06E1   3005           02581         movlw   B'00000101'
06E2   00AD           02582         movwf   LETRA2
06E3   3005           02583         movlw   B'00000101'
06E4   00AE           02584         movwf   LETRA3
06E5   3005           02585         movlw   B'00000101'     
06E6   00AF           02586         movwf   LETRA4
06E7   3007           02587         movlw   B'00000111'
06E8   00B0           02588         movwf   LETRA5
06E9   2796           02589         call    PASSA_LETRA_MEMORIA
06EA   2D21           02590         goto    VOLTA_TABELA_ASCII
                      02591 
06EB                  02592 UMM                             ;(0x31)         
06EB   3004           02593         movlw   B'00000100'
06EC   00AC           02594         movwf   LETRA1
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 73


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

06ED   3006           02595         movlw   B'00000110'
06EE   00AD           02596         movwf   LETRA2
06EF   3005           02597         movlw   B'00000101'
06F0   00AE           02598         movwf   LETRA3
06F1   3004           02599         movlw   B'00000100'     
06F2   00AF           02600         movwf   LETRA4
06F3   3004           02601         movlw   B'00000100'
06F4   00B0           02602         movwf   LETRA5
06F5   2796           02603         call    PASSA_LETRA_MEMORIA
06F6   2D21           02604         goto    VOLTA_TABELA_ASCII
                      02605 
06F7                  02606 DOIS                    ;(0x32)         
06F7   3007           02607         movlw   B'00000111'
06F8   00AC           02608         movwf   LETRA1
06F9   3004           02609         movlw   B'00000100'
06FA   00AD           02610         movwf   LETRA2
06FB   3007           02611         movlw   B'00000111'
06FC   00AE           02612         movwf   LETRA3
06FD   3001           02613         movlw   B'00000001'     
06FE   00AF           02614         movwf   LETRA4
06FF   3007           02615         movlw   B'00000111'
0700   00B0           02616         movwf   LETRA5
0701   2796           02617         call    PASSA_LETRA_MEMORIA
0702   2D21           02618         goto    VOLTA_TABELA_ASCII
                      02619 
0703                  02620 TRES                    ;(0x33)         
0703   3007           02621         movlw   B'00000111'
0704   00AC           02622         movwf   LETRA1
0705   3004           02623         movlw   B'00000100'
0706   00AD           02624         movwf   LETRA2
0707   3007           02625         movlw   B'00000111'
0708   00AE           02626         movwf   LETRA3
0709   3004           02627         movlw   B'00000100'     
070A   00AF           02628         movwf   LETRA4
070B   3007           02629         movlw   B'00000111'
070C   00B0           02630         movwf   LETRA5
070D   2796           02631         call    PASSA_LETRA_MEMORIA
070E   2D21           02632         goto    VOLTA_TABELA_ASCII
                      02633 
070F                  02634 QUATRO                  ;(0x34)
070F   3005           02635         movlw   B'00000101'
0710   00AC           02636         movwf   LETRA1
0711   3005           02637         movlw   B'00000101'
0712   00AD           02638         movwf   LETRA2
0713   3007           02639         movlw   B'00000111'
0714   00AE           02640         movwf   LETRA3
0715   3004           02641         movlw   B'00000100'     
0716   00AF           02642         movwf   LETRA4
0717   3004           02643         movlw   B'00000100'
0718   00B0           02644         movwf   LETRA5
0719   2796           02645         call    PASSA_LETRA_MEMORIA
071A   2D21           02646         goto    VOLTA_TABELA_ASCII
                      02647 
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 74


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

071B                  02648 CINCO                   ;(0x35)
071B   3007           02649         movlw   B'00000111'
071C   00AC           02650         movwf   LETRA1
071D   3001           02651         movlw   B'00000001'
071E   00AD           02652         movwf   LETRA2
071F   3007           02653         movlw   B'00000111'
0720   00AE           02654         movwf   LETRA3
0721   3004           02655         movlw   B'00000100'     
0722   00AF           02656         movwf   LETRA4
0723   3007           02657         movlw   B'00000111'
0724   00B0           02658         movwf   LETRA5
0725   2796           02659         call    PASSA_LETRA_MEMORIA
0726   2D21           02660         goto    VOLTA_TABELA_ASCII
                      02661 
0727                  02662 SEIS                    ;(0x36)
0727   3007           02663         movlw   B'00000111'
0728   00AC           02664         movwf   LETRA1
0729   3001           02665         movlw   B'00000001'
072A   00AD           02666         movwf   LETRA2
072B   3007           02667         movlw   B'00000111'
072C   00AE           02668         movwf   LETRA3
072D   3005           02669         movlw   B'00000101'     
072E   00AF           02670         movwf   LETRA4
072F   3007           02671         movlw   B'00000111'
0730   00B0           02672         movwf   LETRA5
0731   2796           02673         call    PASSA_LETRA_MEMORIA
0732   2D21           02674         goto    VOLTA_TABELA_ASCII
                      02675 
0733                  02676 SETE                    ;(0x37)
0733   3007           02677         movlw   B'00000111'
0734   00AC           02678         movwf   LETRA1
0735   3004           02679         movlw   B'00000100'
0736   00AD           02680         movwf   LETRA2
0737   3002           02681         movlw   B'00000010'
0738   00AE           02682         movwf   LETRA3
0739   3002           02683         movlw   B'00000010'     
073A   00AF           02684         movwf   LETRA4
073B   3002           02685         movlw   B'00000010'
073C   00B0           02686         movwf   LETRA5
073D   2796           02687         call    PASSA_LETRA_MEMORIA
073E   2D21           02688         goto    VOLTA_TABELA_ASCII
                      02689 
073F                  02690 OITO                    ;(0x38)
073F   3007           02691         movlw   B'00000111'
0740   00AC           02692         movwf   LETRA1
0741   3005           02693         movlw   B'00000101'
0742   00AD           02694         movwf   LETRA2
0743   3007           02695         movlw   B'00000111'
0744   00AE           02696         movwf   LETRA3
0745   3005           02697         movlw   B'00000101'     
0746   00AF           02698         movwf   LETRA4
0747   3007           02699         movlw   B'00000111'
0748   00B0           02700         movwf   LETRA5
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 75


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0749   2796           02701         call    PASSA_LETRA_MEMORIA
074A   2D21           02702         goto    VOLTA_TABELA_ASCII
                      02703 
074B                  02704 NOVE                    ;(0x39)
074B   3007           02705         movlw   B'00000111'
074C   00AC           02706         movwf   LETRA1
074D   3005           02707         movlw   B'00000101'
074E   00AD           02708         movwf   LETRA2
074F   3007           02709         movlw   B'00000111'
0750   00AE           02710         movwf   LETRA3
0751   3004           02711         movlw   B'00000100'     
0752   00AF           02712         movwf   LETRA4
0753   3007           02713         movlw   B'00000111'
0754   00B0           02714         movwf   LETRA5
0755   2796           02715         call    PASSA_LETRA_MEMORIA
0756   2D21           02716         goto    VOLTA_TABELA_ASCII
                      02717 
0757                  02718 DOISPONTOS              ;(0x3A)
0757   3000           02719         movlw   B'00000000'
0758   00AC           02720         movwf   LETRA1
0759   3002           02721         movlw   B'00000010'
075A   00AD           02722         movwf   LETRA2
075B   3000           02723         movlw   B'00000000'
075C   00AE           02724         movwf   LETRA3
075D   3002           02725         movlw   B'00000010'     
075E   00AF           02726         movwf   LETRA4
075F   3000           02727         movlw   B'00000000'
0760   00B0           02728         movwf   LETRA5
0761   2796           02729         call    PASSA_LETRA_MEMORIA
0762   2D21           02730         goto    VOLTA_TABELA_ASCII
                      02731 
0763                  02732 IGUAL                   ;(0x3D)
0763   3000           02733         movlw   B'00000000'
0764   00AC           02734         movwf   LETRA1
0765   3007           02735         movlw   B'00000111'
0766   00AD           02736         movwf   LETRA2
0767   3000           02737         movlw   B'00000000'
0768   00AE           02738         movwf   LETRA3
0769   3007           02739         movlw   B'00000111'     
076A   00AF           02740         movwf   LETRA4
076B   3000           02741         movlw   B'00000000'
076C   00B0           02742         movwf   LETRA5
076D   2796           02743         call    PASSA_LETRA_MEMORIA
076E   2D21           02744         goto    VOLTA_TABELA_ASCII
                      02745 
076F                  02746 INTERROGACAO    ;(0x3F)
076F   3007           02747         movlw   B'00000111'
0770   00AC           02748         movwf   LETRA1
0771   3004           02749         movlw   B'00000100'
0772   00AD           02750         movwf   LETRA2
0773   3002           02751         movlw   B'00000010'
0774   00AE           02752         movwf   LETRA3
0775   3000           02753         movlw   B'00000000'     
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 76


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0776   00AF           02754         movwf   LETRA4
0777   3002           02755         movlw   B'00000010'
0778   00B0           02756         movwf   LETRA5
0779   2796           02757         call    PASSA_LETRA_MEMORIA
077A   2D21           02758         goto    VOLTA_TABELA_ASCII
                      02759 
077B                  02760 BARRA
077B   3004           02761         movlw   B'00000100'
077C   00AC           02762         movwf   LETRA1
077D   3002           02763         movlw   B'00000010'
077E   00AD           02764         movwf   LETRA2
077F   3002           02765         movlw   B'00000010'
0780   00AE           02766         movwf   LETRA3
0781   3002           02767         movlw   B'00000010'     
0782   00AF           02768         movwf   LETRA4
0783   3001           02769         movlw   B'00000001'
0784   00B0           02770         movwf   LETRA5
0785   2796           02771         call    PASSA_LETRA_MEMORIA
0786   2D21           02772         goto    VOLTA_TABELA_ASCII
                      02773 
0787   2D21           02774         goto    VOLTA_TABELA_ASCII
                      02775 
0788                  02776 CHARERRO
0788   3007           02777         movlw   B'00000111'
0789   00AC           02778         movwf   LETRA1
078A   3007           02779         movlw   B'00000111'
078B   00AD           02780         movwf   LETRA2
078C   3007           02781         movlw   B'00000111'
078D   00AE           02782         movwf   LETRA3
078E   3007           02783         movlw   B'00000111'     
078F   00AF           02784         movwf   LETRA4
0790   3007           02785         movlw   B'00000111'
0791   00B0           02786         movwf   LETRA5
0792   2796           02787         call    PASSA_LETRA_MEMORIA
0793   2D21           02788         goto    VOLTA_TABELA_ASCII
                      02789 
                      02790 
0794                  02791 MASCARA_LSB
0794   34F0           02792         retlw   B'11110000'                     ;Máscara para zerar os LSBs do W.
                      02793 
0795                  02794 MASCARA_MSB
0795   340F           02795         retlw   B'00001111'                     ;Máscara para zerar os MSBs do W.
                      02796 
                      02797 
0796                  02798 PASSA_LETRA_MEMORIA
0796   0804           02799         movfw   FSR
0797   00FC           02800         movwf   SALVA_FSR2                      ;Salva o FSR.
                      02801 
0798   087F           02802         movfw   ENDERECO_LETRA          ;Carrega o endereço inicial da letra no FSR.
0799   0084           02803         movwf   FSR
                      02804 
079A   1F74           02805         btfss   MEIOBYTE
079B   2794           02806         call    MASCARA_LSB     
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 77


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

079C   1B74           02807         btfsc   MEIOBYTE
079D   2795           02808         call    MASCARA_MSB
079E   0580           02809         andwf   INDF,F                          ;Passa o primeiro byte pela máscara
                      02810 
079F   1B74           02811         btfsc   MEIOBYTE
07A0   0E2C           02812         swapf   LETRA1,W                        ;Se for o MSB, troca os nibbles e guarda em W.
07A1   1F74           02813         btfss   MEIOBYTE
07A2   082C           02814         movfw   LETRA1
07A3   0480           02815         iorwf   INDF,F                          ;Agora armazena o novo caractere.
                      02816 
07A4   0804           02817         movfw   FSR
07A5   3E06           02818         addlw   0x06                            ;Realiza o pulo pra próxima linha de pixels
07A6   0084           02819         movwf   FSR
                      02820 
07A7   1F74           02821         btfss   MEIOBYTE
07A8   2794           02822         call    MASCARA_LSB     
07A9   1B74           02823         btfsc   MEIOBYTE
07AA   2795           02824         call    MASCARA_MSB
07AB   0580           02825         andwf   INDF,F                          ;Passa o primeiro byte pela máscara
                      02826 
07AC   1B74           02827         btfsc   MEIOBYTE
07AD   0E2D           02828         swapf   LETRA2,W                        ;Se for o MSB, troca os nibbles e guarda em W.
07AE   1F74           02829         btfss   MEIOBYTE
07AF   082D           02830         movfw   LETRA2
07B0   0480           02831         iorwf   INDF,F                          ;Agora armazena o novo caractere.
                      02832 
07B1   0804           02833         movfw   FSR
07B2   3E06           02834         addlw   0x06                            ;Realiza o pulo pra próxima linha de pixels
07B3   0084           02835         movwf   FSR
                      02836 
07B4   1F74           02837         btfss   MEIOBYTE
07B5   2794           02838         call    MASCARA_LSB     
07B6   1B74           02839         btfsc   MEIOBYTE
07B7   2795           02840         call    MASCARA_MSB
07B8   0580           02841         andwf   INDF,F                          ;Passa o primeiro byte pela máscara
                      02842 
07B9   1B74           02843         btfsc   MEIOBYTE
07BA   0E2E           02844         swapf   LETRA3,W                        ;Se for o MSB, troca os nibbles e guarda em W.
07BB   1F74           02845         btfss   MEIOBYTE
07BC   082E           02846         movfw   LETRA3
07BD   0480           02847         iorwf   INDF,F                          ;Agora armazena o novo caractere.
                      02848 
07BE   0804           02849         movfw   FSR
07BF   3E06           02850         addlw   0x06                            ;Realiza o pulo pra próxima linha de pixels
07C0   0084           02851         movwf   FSR
                      02852 
07C1   1F74           02853         btfss   MEIOBYTE
07C2   2794           02854         call    MASCARA_LSB     
07C3   1B74           02855         btfsc   MEIOBYTE
07C4   2795           02856         call    MASCARA_MSB
07C5   0580           02857         andwf   INDF,F                          ;Passa o primeiro byte pela máscara
                      02858 
07C6   1B74           02859         btfsc   MEIOBYTE
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 78


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

07C7   0E2F           02860         swapf   LETRA4,W                        ;Se for o MSB, troca os nibbles e guarda em W.
07C8   1F74           02861         btfss   MEIOBYTE
07C9   082F           02862         movfw   LETRA4
07CA   0480           02863         iorwf   INDF,F                          ;Agora armazena o novo caractere.
                      02864 
07CB   0804           02865         movfw   FSR
07CC   3E06           02866         addlw   0x06                            ;Realiza o pulo pra próxima linha de pixels
07CD   0084           02867         movwf   FSR
                      02868 
07CE   1F74           02869         btfss   MEIOBYTE
07CF   2794           02870         call    MASCARA_LSB     
07D0   1B74           02871         btfsc   MEIOBYTE
07D1   2795           02872         call    MASCARA_MSB
07D2   0580           02873         andwf   INDF,F                          ;Passa o primeiro byte pela máscara
                      02874 
07D3   1B74           02875         btfsc   MEIOBYTE
07D4   0E30           02876         swapf   LETRA5,W                        ;Se for o MSB, troca os nibbles e guarda em W.
07D5   1F74           02877         btfss   MEIOBYTE
07D6   0830           02878         movfw   LETRA5
07D7   0480           02879         iorwf   INDF,F                          ;Agora armazena o novo caractere.
                      02880 
                      02881 
07D8   087C           02882         movfw   SALVA_FSR2                      ;Restaura o FSR.
07D9   0084           02883         movwf   FSR
                      02884         
07DA   0008           02885         return
                      02886 
                      02887 
                      02888 ;****************************************************************************
                      02889 ;*                                                      FIM DO PROGRAMA                                 
                                                            *
                      02890 ;****************************************************************************
                      02891 
                      02892 
                      02893 ; COPYRIGHT MESSAGE
07DB   340D 340A      02894                 dt              CR,LF
07DD   3443 346F 3470 02895                 dt              "Copyright 2005, Ricardo de Azambuja"
       3479 3472 3469 
       3467 3468 3474 
       3420 3432 3430 
       3430 3435 342C 
       3420 3452 3469 
       3463 3461 3472 
       3464 346F 3420 
       3464 3465 3420 
       3441 347A 3461 
       346D 3462 3475 
       346A 3461 
                      02896 
                      02897 
                      02898         END                                                     ;INDICA O FIM DO ARQUIVO CÓDIGO-FONTE
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 79


SYMBOL TABLE
  LABEL                             VALUE 

AA                                00000041
ABRE_PARENT                       00000697
ACABOU_CMDS                       00000087
ADEN                              00000003
AP                                00000028
AR                                00000040
ARROBA                            FLAGS,4
AS                                00000022
ASPAS                             00000673
ASTERISCO                         000006AF
BANK0                             BCF STATUS,RP0
BANK1                             BSF     STATUS,RP0
BARRA                             0000077B
BB                                00000042
BRGH                              00000002
BS                                00000008
BUFFER1                           000000A1
BUFFER2                           000000A2
BUFFER3                           000000A3
BUFFER4                           000000A4
BUFFER5                           000000A5
BUFFER6                           000000A6
BUFFER7                           000000A7
BUFFER8                           000000A8
BUFFER9                           000000A9
BUFFERA                           000000AA
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CC                                00000043
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CHARERRO                          00000788
CI                                00000035
CINCO                             0000071B
CIS                               00000003
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000001F
CMIE                              00000006
CMIF                              00000006
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 80


SYMBOL TABLE
  LABEL                             VALUE 

CONTA_3LINHAS_A                   00000077
CONTA_3LINHAS_B                   00000078
CONTINUA_CMDS                     0000008B
CONTINUA_NA_MESMA_LINHA1          0000002D
CONTINUA_NA_MESMA_LINHA1_SR       00000033
CONTINUA_NA_MESMA_LINHA2          00000047
CONTINUA_NA_MESMA_LINHA2_SR       00000053
CONTINUA_SERIAL                   0000009B
CONTINUA_SINCRONISMO1             00000037
CONTINUA_SINCRONISMO2             00000057
CONTINUA_SINC_VERT                000002FA
CONT_BUFFER                       00000079
CONT_BUFFER2                      0000007E
CONT_VERT                         00000073
CR                                0000000D
CREN                              00000004
CSRC                              00000007
DC                                00000001
DD                                00000044
DELAY                             00000072
DEMONSTRACAO                      000003FC
DESENHA_TELA1                     0000001B
DO                                00000032
DOIS                              000006F7
DOISPONTOS                        00000757
DOLAR                             00000024
DP                                0000003A
DV                                0000002F
ECOMER                            00000026
EE                                00000045
EEADR                             0000009B
EECON1                            0000009C
EECON2                            0000009D
EEDATA                            0000009A
EEIE                              00000007
EEIF                              00000007
ENDERECO                          00000026
ENDERECO_INICIAL                  0000007D
ENDERECO_LETRA                    0000007F
END_BASE_LINHA                    00000020
END_FIM_CMDS                      000000AB
END_INIC_CMDS                     000000A0
END_INIC_VIDEO                    00000026
ERRO_OERR                         0000009E
ESC                               0000001B
ESCREVE_NA_L1                     000003FF
ESCREVE_NA_L2                     00000402
ESCREVE_NA_LINHA                  0000040D
ESPACO                            0000065B
EXCLAMACAO                        00000667
EXECUTA                           FLAGS,5
EXECUTA_COMANDOS                  000003D8
F                                 00000001
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 81


SYMBOL TABLE
  LABEL                             VALUE 

FECHA_PARENT                      000006A3
FERR                              00000002
FF                                00000046
FIM_DA_IMAGEM                     00000214
FIM_DESENHA_TELA1                 0000001F
FIM_EXECUTA_COMANDOS              00000405
FLAGS                             00000074
FP                                00000029
FSR                               00000004
GG                                00000047
GIE                               00000007
HH                                00000048
IG                                0000003D
IGUAL                             00000763
II                                00000049
IMPAR                             000002F6
INDF                              00000000
INICIO                            000000AC
INICIO_DA_IMAGEM                  000000F3
INIC_TMR0                         00000066
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTERROGACAO                      0000076F
INTF                              00000001
INT_SERIAL                        0000005C
INT_TIMER0                        0000000D
IRP                               00000007
JJ                                0000004A
KK                                0000004B
LEDERR                            000000A9
LEDOK                             000000A6
LED_DEBUG                         PORTB,0
LED_OERR                          PORTB,4
LED_SERERR                        PORTB,6
LED_SEROK                         PORTB,7
LETRA1                            000000AC
LETRA2                            000000AD
LETRA3                            000000AE
LETRA4                            000000AF
LETRA5                            000000B0
LETRA_A                           00000523
LETRA_B                           0000052F
LETRA_C                           0000053B
LETRA_D                           00000547
LETRA_E                           00000553
LETRA_F                           0000055F
LETRA_G                           0000056B
LETRA_H                           00000577
LETRA_I                           00000583
LETRA_J                           0000058F
LETRA_K                           0000059B
LETRA_L                           000005A7
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 82


SYMBOL TABLE
  LABEL                             VALUE 

LETRA_M                           000005B3
LETRA_N                           000005BF
LETRA_O                           000005CB
LETRA_P                           000005D7
LETRA_Q                           000005E3
LETRA_R                           000005EF
LETRA_S                           000005FB
LETRA_T                           00000607
LETRA_U                           00000613
LETRA_V                           0000061F
LETRA_W                           0000062B
LETRA_X                           00000637
LETRA_Y                           00000643
LETRA_Z                           0000064F
LF                                0000000A
LIMPAWINDOW                       0000038D
LIMPA_MEIOBYTE                    0000041E
LINE                              0000002A
LINHA_INICIO                      00000096
LINHA_QUANT                       00000024
LL                                0000004C
MA                                0000002B
MAIN                              000000E7
MAIS                              000006BB
MARGEM_INFERIOR                   00000076
MARGEM_SUPERIOR                   00000075
MASCARA_LSB                       00000794
MASCARA_MSB                       00000795
ME                                0000002D
MEIOBYTE                          FLAGS,6
MENOS                             000006C7
MM                                0000004D
MODOGRAFICO                       000003FE
MU                                0000002A
NAO_DESENHA_TELA1                 00000017
NIVEL_CMDS                        00000072
NIVEL_UM                          00000063
NN                                0000004E
NO                                00000039
NOPS                              
NOT_BO                            00000000
NOT_BOD                           00000000
NOT_BOR                           00000000
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOVE                              0000074B
ODD                               FLAGS,2
OERR                              00000001
OI                                00000038
OITO                              0000073F
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 83


SYMBOL TABLE
  LABEL                             VALUE 

OO                                0000004F
OPTION_REG                        00000081
OSCF                              00000003
PAR                               000002F2
PASSA_LETRA_MEMORIA               00000796
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIR1                              0000000C
PO                                00000025
PONTO                             000006D3
PORCENTO                          0000068B
PORTA                             00000005
PORTB                             00000006
PP                                00000050
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PT                                0000002E
QQ                                00000051
QU                                00000034
QUATRO                            0000070F
RBIE                              00000003
RBIF                              00000000
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RECEBEU_CR                        0000008E
RECEBEU_ESC                       00000099
RECEBI_ARROBA                     0000006C
RP0                               00000005
RP1                               00000006
RR                                00000052
RX9                               00000006
RX9D                              00000000
SAIDABIT                          
SAI_INT                           000000A1
SALVA_CAR                         0000007B
SALVA_FSR                         0000007A
SALVA_FSR2                        0000007C
SE                                00000021
SEIS                              00000727
SEM_SINCV_AINDA                   0000005A
SEM_SINC_H                        000000E8
SETE                              00000733
SI                                0000003F
SINCRONISMO_VERTICAL              0000021A
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 84


SYMBOL TABLE
  LABEL                             VALUE 

SINC_H                            FLAGS,0
SINC_V                            FLAGS,1
SP                                00000020
SPBRG                             00000099
SPEN                              00000007
SPLASH                            FLAGS,7
SPLASHWINDOW                      00000300
SREN                              00000005
SS                                00000053
ST                                00000037
STATUS                            00000003
STATUS_TEMP                       00000071
SU                                00000023
SUSTENIDO                         0000067F
SYNC                              00000004
SZ                                00000036
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1OSCEN                           00000003
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TABELA_ASCII                      00000420
TAM_PXL                           00000005
TELA                              FLAGS,3
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TR                                00000033
TRES                              00000703
TRISA                             00000085
TRISB                             00000086
TRMT                              00000001
TT                                00000054
TX9                               00000006
TX9D                              00000000
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 85


SYMBOL TABLE
  LABEL                             VALUE 

TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UM                                00000031
UMM                               000006EB
UU                                00000055
VOLTA_TABELA_ASCII                00000521
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             0000009F
VREN                              00000007
VROE                              00000006
VRR                               00000005
VV                                00000056
W                                 00000000
WR                                00000001
WREN                              00000002
WRERR                             00000003
WW                                00000057
W_TEMP                            00000070
XX                                00000058
YY                                00000059
Z                                 00000002
ZERO                              000006DF
ZR                                00000030
ZZ                                0000005A
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CP_OFF                           00003FFF
_CP_ON                            00001FFF
_DATA_CP_OFF                      00003FFF
_DATA_CP_ON                       00003EFF
_ER_OSC_CLKOUT                    00003FFF
_ER_OSC_NOCLKOUT                  00003FFE
_EXTCLK_OSC                       00003FEF
_HS_OSC                           00003FEE
_INTOSC_OSC_CLKOUT                00003FFD
_INTOSC_OSC_NOCLKOUT              00003FFC
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FEC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 86


SYMBOL TABLE
  LABEL                             VALUE 

_RC_OSC_CLKOUT                    00003FFF
_RC_OSC_NOCLKOUT                  00003FFE
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_XT_OSC                           00003FED
__16F628A                         00000001
bit00                             000000F3
i                                 00000000
it                                00000030
saida                             PORTB,5
sincronismo                       PORTB,3


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
06C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0700 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0740 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0780 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM 03.30.01 Released                              MAIN.ASM   11-29-2005  11:19:54         PAGE 87


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


07C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:  2045
Program Memory Words Free:     3


Errors   :     0
Warnings :     0 reported,   112 suppressed
Messages :     0 reported,   282 suppressed

